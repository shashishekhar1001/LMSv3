var $ZSIQLSDB=$ZSIQLSDB||function(){var a=function(a){return Object.toJSON?Object.toJSON(a):JSON.stringify(a)},b=function(a){try{return window[a].setItem("test","1"),window[a].removeItem("test"),!!window[a]}catch(b){return!1}},c=b("sessionStorage"),d=b("localStorage");return{set:function(a,b,c){if($ZSIQLSDB.isLocalStorageAvail())try{this.storeInLocalStorage(a,b,c)}catch(d){$ZSIQCookie.set(a,$ZSIQLSDB.toString(b),c)}else $ZSIQCookie.set(a,$ZSIQLSDB.toString(b),c)},storeInLocalStorage:function(a,b,c){var d=JSON.parse(localStorage.siqlsdb||"{}");c&&(b.ttl=c,b.time=(new Date).getTime()),b=$ZSIQLSDB.toString(b),d[a]=b,localStorage.siqlsdb=JSON.stringify(d)},isLocalStorageAvail:function(){return d},get:function(a){return $ZSIQLSDB.isLocalStorageAvail()&&$ZSIQLSDB.getFromLocalStorage(a)||$ZSIQUtil.parseToJSON($ZSIQCookie.get(a))},isSessionStorageAvail:function(){return c},storeInSession:function(a,b){if(!this.isSessionStorageAvail())return!1;var c=$ZSIQUtil.parseToJSON(sessionStorage.utsdb||"{}");return c[a]=b,sessionStorage.utsdb=JSON.stringify(c),!0},getFromSession:function(a){if(!this.isSessionStorageAvail())return;var b=$ZSIQUtil.parseToJSON(sessionStorage.utsdb||"{}");return b[a]},getFromLocalStorage:function(a){var b=$ZSIQUtil.parseToJSON(localStorage.siqlsdb||"{}"),c=b[a];if(!c)return null;try{c=$ZSIQUtil.parseToJSON(c);if(c.ttl&&c.ttl+c.time<(new Date).getTime())return $ZSIQLSDB.remove(a),null}catch(d){LSDebugger.postDebugInfo("Value: "+c+"Key"+a,null,null,!0)}return c},remove:function(a){if($ZSIQLSDB.isLocalStorageAvail())try{var b=$ZSIQUtil.parseToJSON(localStorage.siqlsdb||"{}"),c=b[a];c&&delete b[a],localStorage.siqlsdb=JSON.stringify(b)}catch(d){$ZSIQCookie.remove(a)}else $ZSIQCookie.remove(a)},removeSessionStore:function(a){if(!this.isSessionStorageAvail())return;try{var b=JSON.parse(sessionStorage.utsdb||"{}"),c=b[a];c&&(delete b[a],sessionStorage.utsdb=JSON.stringify(b))}catch(d){}},toString:function(b){if(!b)return b;try{return a(b)}catch(c){var d,e=[];for(var f in b)d=b[f].replace('"','\\"'),e.push('"'+f+'":'+'"'+d+'"');return"{"+e+"}"}}}}();var $ZSIQCookie=$ZSIQCookie||function(){return{get:function(a){a+="=";var b=document.cookie.indexOf(a),c="";return b!=-1&&(c=document.cookie.substr(b+a.length),c.indexOf(";")!=-1&&(c=c.substring(0,c.indexOf(";")))),decodeURIComponent(c)},set:function(a,b,c,d){var e=new Date;if(c==null||c=="")c=18e4;return e.setTime(e.getTime()+c),a+="= "+encodeURIComponent(b)+";expires= "+e.toGMTString()+";",d&&(a+="path=/;"),document.cookie=a,!0},remove:function(a){var b=new Date;b.setTime(b.getTime()-1),document.cookie=a+"=;expires="+b.toGMTString()+";"}}}();try{_ZSIQ=window._ZSIQ||{JSAPI:{}},$ZSIQAnalytics={},$ZSIQAutopick={},_ZSIQ.isagentschat||($zohosq=$zoho.livedesk||$zoho.salesiq,$zohosq._callbacks={},$zcb=$zohosq._callbacks,$zv=$zohosq.values,$zlm={},$zlch={},$zla="handleAnalyticEvents",$zohosq.utsvalues={},$ZSIQ_UTSinitialized=null),$zohosq._invoke=function(a,b){for(var c in $ZSIQAnalytics)if($ZSIQAnalytics.hasOwnProperty(c)){var d=$ZSIQAnalytics[c];$ZShandleEvent(a,b,d)}if($zcb[a]&&typeof $zcb[a]=="function"){if(typeof b!="object"){if($zlm[a]===b)return!1;$zlm[a]=b}var e;if(b.visitid)e=$zcb[a](b.visitid,b);else{if(a==="visitor.trigger")return $zcb[a](b.triggername,b.visitorinfo);e=$zcb[a](b)}e=e!=undefined?e:-1;var f={};f[a]=e,$zlch[a]&&$zohosq.setValue("callback",f),$zlm[a]={}}else a=="custom.field"&&$zohosq.customfield.handleCallbacks(b);return!1},$zohosq.visitor={referer:function(a){return a&&a.trim()&&$zohosq.setValue("referer",a,3),$zv.referer},cpage:function(a){return a&&a.trim()&&$zohosq.setValue("cpage",a,3),$zv.cpage},pagetitle:function(a){return a&&a.trim()&&$zohosq.setValue("pagetitle",a,3),$zv.pagetitle},customaction:function(a,b){if(!a||a.trim().length==0||$ZSisThresholdExceeded("ca",50))return;var c={};c.field=a,c.value=b||{},$zv.customaction=c,$ZNotifyTracking(4,c)},uniqueid:function(){return $zv.uvid},name:function(a){return a&&a.trim()&&$zohosq.setValue("name",a,3),$zv.name},email:function(a){var b=/^([\w]([\w\-\.\+\'\/]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2}))$/;if(a==null||!b.test(a))return;return $zohosq.setValue("email",a,3),$zv.email},id:function(a){return a&&a.trim()&&$zohosq.setValue("id",a),$ZSIQUtil.getAPIValues().id=a,$zv.id},question:function(a){return a!=null&&$zohosq.setValue("question",a),$zv.question},contactnumber:function(a){return a!=null&&$ZSIQUtil.isValidPhoneNo(a)&&$zohosq.setValue("phone",a,3),$zv.phone},info:function(a){return a&&($zv.info=a),$zohosq.setValue("info",$zv.info,3),$zv.info},authkey:function(a){return a&&($zv.authkey=a),$zv.authkey},chat:function(a){$zcb["visitor.chat"]=a},attend:function(a){$zcb["visitor.attend"]=a},missed:function(a){$zcb["visitor.missed"]=a},agentsoffline:function(a){$zcb["visitor.offline"]=a},offlineMessage:function(a){$zcb["visitor.offline"]=a},chatmessage:function(a){$zcb["visitor.chatmessage"]=a},chatcomplete:function(a){$zcb["visitor.chatcomplete"]=a},rating:function(a){$zcb["visitor.rating"]=a},feedback:function(a){$zcb["visitor.feedback"]=a},idleTime:function(a){isNaN(a)||($zv.idletime=a,$ZNotifyTracking(2,a))},idle:function(a){$zcb["visitor.idle"]=a},active:function(a){$zcb["visitor.active"]=a},onNavigate:function(a){return a},trigger:function(a){$zcb["visitor.trigger"]=a},triggeredchat:function(a){$zcb["visitor.triggeredchat"]=a},ongoingchat:function(){return $ZSIQUtil.getIframe().$Support.EmbedObj.chatID!=-1?!0:!1},getGeoDetails:function(){$zv.fetchgeolocation=!0}},$zohosq.chat={mode:function(a){return a!=null&&$zohosq.setValue("chatmode",a),$zv.chatmode},sendmessage:function(a){Float&&a&&Float.sendMessage(a)},department:function(a){return a!=null&&$zohosq.setValue("department",a),$zv.department},defaultdepartment:function(a){return a&&($zv.defaultdepartment=a),$zv.defaultdepartment},agent:function(a){return a!=null&&$zohosq.setValue("agent",a),$zv.agent},messages:function(a){return a&&($zv.chatmessages=a),$zv.chatmessages},systemmessages:function(a){return a&&($zv.chatmessages=a),$zv.chatmessages},title:function(a,b){return a&&($zv.title=a),Object.prototype.toString.call(b)==="[object Object]"&&($zv.titlestyle=b),$zv.title},messagehint:function(a){return a&&($zv.messagehint=a),$zv.messagehint},online:function(a){$zcb["chat.online"]=a},offline:function(a){$zcb["chat.offline"]=a},logo:function(a,b){return a&&($zv.clogo=a),b&&($zv.cwebsite=b),$zv.clogo},waitinghandler:function(a){var b="chat.waitinghandler";$zcb[b]=$zlch[b]=a,$zv[b]=a==null?!1:!0},start:function(){_ZSIQ.JSAPI.broadcastMessage("chatstart",{})},forward:function(a){return a!=null&&$zohosq.setValue("forward",a),$zv.forward},attend:function(a){$zcb["visitor.attend"]=a},agentMessage:function(a){$zcb["visitor.chatmessage"]=a},triggerMessage:function(a){$zv.triggermsg=!0,$zcb["visitor.chattrigger"]=a},complete:function(a){a?$zcb["visitor.chatcomplete"]=a:_ZSIQ.JSAPI.broadcastMessage("chatend",{})},missed:function(a){$zcb["visitor.missed"]=a},theme:function(a){var b=function(a){if(!a)return!1;$zv.buttontheme=a+"-btn",$zv.sbonlinebg="",$zv.sbonlinebdr="",$zv.sbicobg=""},c=function(a){if(!a)return!1;var b={black:["blck","black"],gray:["gry","gray"],blue:["blue","blue"],green:["green","green"],red:["red","red"],purple:["purple","purple"]};b.hasOwnProperty(a)?($zv.embedtheme=b[a][0],$zv.embedheadertheme=b[a][1]):$zv.embedtheme=a};b(a),c(a)},floatingwindow:function(a){$zv.forcefloatingwindow=a==="all"||a!=="ipad"||!/ipad/.test(navigator.userAgent.toLowerCase())},transferchat:function(a){$zcb["agent.transferchat"]=a},accepttransfer:function(a){$zcb["agent.accepttransfer"]=a},waitime:function(a){a&&($zv.waitime=a)}},$zohosq.call={start:function(){_ZSIQ.JSAPI.broadcastMessage("callstart",{})},isavsupported:function(a){$zcb["call.isavsupported"]=a},attended:function(a){$zcb["call.attended"]=a},completed:function(a){$zcb["call.completed"]=a},missed:function(a){$zcb["call.missed"]=a},cancelled:function(a){$zcb["call.cancelled"]=a}},$zohosq.rating={visible:function(a){return a&&($zv["rating.visible"]=a),$zv["rating.visible"]}},$zohosq.feedback={visible:function(a){return a&&($zv["feedback.visible"]=a),$zv["feedback.visible"]}},$zohosq.integ={requestid:function(a){return a!=null&&$zohosq.setValue("requestid",a),$zv.requestid}},$zohosq.chatbubble={visible:function(a){return a&&($zv.bubblevisible=a),$zv.bubblevisible},animate:function(a){return a&&($zv.bubbleanimatetimer=a),$zv.bubbleanimatetimer},src:function(a){return a&&($zv.bubblesrc=a),$zv.bubblesrc},close:function(a){$zcb["chatbubble.close"]=a}},$zohosq.chatbutton={texts:function(a){return a&&($zv.buttontexts=a),$zv.buttontexts},icon:function(a){return a&&($zv.buttonicon=a),$zv.buttonicon},visible:function(a){a&&($zv.buttonvisible=a);try{zhandleLiveEvent("buttonvisible",a)}catch(b){}return $zv.buttonvisible},onlineicon:{src:function(a){return a&&($zv.buttononlineicon=a),$zv.buttononlineicon}},offlineicon:{src:function(a){return a&&($zv.buttonofflineicon=a),$zv.buttonofflineicon}},click:function(a){$zcb["chatbutton.click"]=a},width:function(a){return a&&($zv.bwidth=a),$zv.bwidth}},$zohosq.floatbutton={position:function(a){return a&&($zv.floatposition=a),$zv.floatposition},visible:function(a){a&&($zv.floatvisible=a);try{$ZSIQWidget&&$ZSIQWidgetUI.handleWidgetVisible(a)}catch(b){}return $zv.floatvisible},onlineicon:{src:function(a){return a&&($zv.floatbuttononlinesrc=a),$zv.floatbuttononlinesrc}},offlineicon:{src:function(a){return a&&($zv.floatbuttonofflinesrc=a),$zv.floatbuttonofflinesrc}},click:function(a){$zcb["floatbutton.click"]=a}},$zohosq.chatwindow={visible:function(a){a&&($zv.chatwindowvisible=a);try{zhandleLiveEvent("chatwindowvisible",a)}catch(b){}return $zv.chatwindowvisible}},$zohosq.floatwindow={visible:function(a,b,c){a&&($zv.floatwindowvisible=a);try{$ZSIQWidget&&$ZSIQChatWindow.handleChatWindowVisible(a,!1,b,c)}catch(d){}return $zv.floatwindowvisible},open:function(a){a?$zcb["chat.open"]=a:this.visible("show")},close:function(a){a?$zcb["chat.close"]=a:this.visible("hide")},minimize:function(a){if(a)$zcb["floatwindow.minimize"]=a;else try{$ZSIQChatWindow.minimizeChatWindow(!0)}catch(b){}},onlinetitle:function(a){return a!=null&&($zv.floatwindowonlinetitle=a),$zv.floatwindowonlinetitle},offlinetitle:function(a){return a!=null&&($zv.floatwindowofflinetitle=a),$zv.floatwindowofflinetitle},fields:function(a){return a!=null&&($zv.floatwindowfields=a),$zv.floatwindowfields},defaultview:function(a){return a!=null&&($zv.defaultview=a),$zv.defaultview}},$zohosq.custom={html:function(a,b){if(a&&b){$zv.customhtml=[a,b];try{Float.drawFloatButtonHtml($zv.customhtml)}catch(c){try{zlsDrawButtonHtml($zv.customhtml)}catch(d){}}}return $zv.floatbuttondraw}},$zohosq.customfield={add:function(a){var b="customfield";if(a){var c=$zv[b]=$zv[b]||[];this._splice([a.name],c),$zv[b].push(a),_ZSIQ.JSAPI.broadcastMessage(b,$zv[b])}},clear:function(a){var b="customfield";a||($zv[b]=[],a=[]),Object.prototype.toString.call(a)==="[object Array]"&&this._splice(a,$zv[b]||[])},handleCallbacks:function(a){if(!a)return;var b=this._getObject(a.name);b&&b.callback&&b.callback(a.val)},_getObject:function(a){var b=$zv.customfield;if(!b||b.length<1)return;for(var c=0;c<b.length;c++)if(b[c].name==a)return b[c]},_splice:function(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)if(b[d].name==a[c]){b.splice(d,1),_ZSIQ.JSAPI.broadcastMessage("clearcustomfield",[a[c]]);break}}},$zohosq.tracking={on:function(){$zv.tracking="on",$ZSIQUtil.getAPIValues().tracking="on",$ZNotifyTracking(1,"on")},off:function(){$zv.tracking="off",$ZSIQUtil.getAPIValues().tracking="off",$ZNotifyTracking(1,"off")},domain:function(a){var b=window.location.hostname;a&&b.indexOf(a,b.length-a.length)!==-1&&($zohosq.utsvalues.trackingdomain=a)}},$zohosq.language=function(a){return a&&($zv.language=a),$zv.language},$zohosq.personalize={agentorder:function(a){return a!=null&&$zohosq.setValue("agentorder",a),$zv.agentorder}},$zohosq.set=function(a){for(var b in a)try{var c=b.split("."),d=this[c[0]];for(var e=1;e<c.length;e++)c[e]&&(d=d[c[e]]);typeof d=="function"&&d(a[b])}catch(f){}},$zohosq.setValue=function(a,b,c){if(b==null||!a)return;$zv[a]=b,_ZSIQ.JSAPI.broadcastMessage(a,b);if(c){var d={};d[a]=b,$ZNotifyTracking(c,d)}},$zoho.ld={},$zoho.ld.handle={customClick:function(a){var b=$zohosq.values.customhtml;if(!b)return!1;var c=b[1],d=c[a+".click"];if(typeof d=="function")d();else try{$ZSIQChatWindow.openChatWindow()}catch(e){try{zlsHandleCustomClick()}catch(e){}}}},$zohosq.privacy={trackingbannercontent:function(a){return a&&($zv.trackbannerobj=a),$zv.trackbannerobj},chatbannercontent:function(a){return a&&($zv.textbannerobj=a),$zv.textbannerobj}}}catch(e){}$ZSisThresholdExceeded=function(a,b){var c=Math.floor((new Date).getTime()/6e4);c=a+"_"+c;if(typeof $ZSIQUTS=="undefined")return!1;var d=$UTSHandler.getFromSession(c);return d||(d=0),$UTSHandler.storeInSession(c,++d),d>b},$ZNotifyTracking=window.$ZNotifyTracking||function(a,b){if($ZSIQ_UTSinitialized)try{$UTSHandler.handleApiChange(a,b)}catch(c){}},$ZShandleEvent=window.$ZShandleEvent||function(a,b,c){try{$zohosq.handleAnalyticEvents(a,b,c)}catch(d){}},_ZSIQ.JSAPI.broadcastMessage=window._ZSIQ.JSAPI.broadcastMessage||function(a,b){if($ZSIQ_UTSinitialized)try{var c=$ZSIQUtil.getIframe(),d={};d[a]=b,c.$Support.handleApiData(d,!0)}catch(e){}try{AgentsChat.broadcastMessage(a,b)}catch(e){}try{zlsWinBroadcastMessage(a,b)}catch(e){}try{zlsBtnBroadcastMessage(a,b)}catch(e){}},_ZSIQ.JSAPI.identifySIQParam=window._ZSIQ.JSAPI.identifySIQParam||function(){var a=function(a){return decodeURIComponent((a+"").replace(/\+/g,"%20"))},b=function(){var a=location.href.split("?")[0],b=location.search,c=location.hash;if(!b)return;b=b.replace(/^\?/g,""),b=b.replace(/(^|&)siq_(name|email)=[^&]*/g,""),b=b.replace(/^&/g,""),b?a+="?"+b+c:a+=c,window.history.replaceState(window.history.state,"",a)};try{var c={},d=window.location.search;if(!d)return;var d=d.replace(/^\?/g,""),e=d.split("&"),f=[];for(var g=0;g<e.length;g++)f=e[g].split("="),c[a(f[0])]=a(f[1]);c.siq_email!=null?$zohosq.visitor.email(c.siq_email):c.om_email!=null&&$zohosq.visitor.email(c.om_email),c.siq_name!=null?$zohosq.visitor.name(c.siq_name):c.om_name!=null&&$zohosq.visitor.name(c.om_name),b()}catch(h){}};try{var $zsalobj=window.$zsalobj||{};$zohosq.init=function(){$zsalobj&&Object.keys($zsalobj).length==0&&($zsalobj={"chatbutton.click":["Button Clicked","Click on the "+_ZSIQ.brandname+" SalesIQ chat button."],"floatbutton.click":["Button Clicked","Click on the "+_ZSIQ.brandname+"SalesIQ chat button."],"chat.close":["Chat Closed","Click on the Close (X) icon in the chat window."],"floatwindow.minimize":["Chat Minimized","Click to minimize the "+_ZSIQ.brandname+"SalesIQ chat window."],"chatbubble.close":["Bubble Closed","Click on the Close(X) icon on the chat bubble."],"visitor.attend":["Chat Connected","Chat sessions with the visitors.","waitingduration"],"visitor.chatcomplete":["Chat Ended","Chat ended by the visitors.","chatduration"],"chat.file":["File Transferred","File transfers made by the visitors."],"chat.print":["Chat Printed","Chat transcripts printed by the visitors."],"chat.mail":["Chat Mail sent","Chat transcripts emailed by the visitor."],"visitor.rating":["Rating Submitted","Rating submitted by visitors.","rating"],"visitor.feedback":["Feedback Submitted","Feedback messages submitted by visitors."],"visitor.chattrigger":["Chat Triggerred","Auto and proactive chat initiated to the visitors."],"visitor.triggerresponded":["Trigger Responded","Visitor responded to trigger or proactive chat."],"visitor.chat":["Chat Initiated","Visitor initiated chats."],"visitor.offline":["Offline Message Submitted","Offline messages submitted by the visitors."],"visitor.missed":["Chat Missed","Chat missed by the SalesIQ users."],"chat.visitorend":["Chat Ended by visitor","Chats ended by the visitors."]})},$zohosq.handleAnalyticEvents=window.$zohosq.handleAnalyticEvents||function(a,b,c){var d=$zsalobj[a];if(!d)return;var e=b[d[2]];e&&(e=parseInt(e));if(c==1)try{typeof _gaq!="undefined"?d.length===3?_gaq.push(["_trackEvent","Sales IQ",d[0],d[1],e]):_gaq.push(["_trackEvent","Sales IQ",d[0],d[1]]):d.length===3?ga("send","event","Sales IQ",d[0],d[1],e):ga("send","event","Sales IQ",d[0],d[1])}catch(f){}else if(c==2)d.length===3?clicky.log("Sales IQ-"+d[0]+"-"+e):clicky.log("Sales IQ-"+d[0]);else if(c==3)if(d.length===3){var g={};g[d[1]]=e,_kmq.push(["record","Sales IQ "+d[0],g])}else _kmq.push(["record","Sales IQ "+d[0]]);else if(c==4)if(d.length===3){var g={};g[d[1]]=e,window.optimizely.push(["trackEvent","Sales IQ "+d[0],g])}else window.optimizely.push(["trackEvent","Sales IQ "+d[0]]);else if(c==5)if(d.length===3){var g={};g[d[1]]=e,woopra.track("Sales IQ "+d[0],g)}else woopra.track("Sales IQ "+d[0]);else if(c==6)d.length===3?_paq.push(["trackEvent","Sales IQ",d[0],"",e]):_paq.push(["trackEvent","Sales IQ",d[0]]);else if(c==7)if(d.length===3){var g={};g[d[1]]=e,mixpanel.track("Sales IQ "+d[0],g)}else mixpanel.track("Sales IQ "+d[0]);else if(c==8)if(d.length===3){var g={};g[d[1]]=e,_hsq.push(["trackEvent","Sales IQ "+d[0],g])}else _hsq.push(["trackEvent","Sales IQ "+d[0]]);else if(c==9){var h={event:"Sales IQ Events",category:"Sales IQ",action:d[0],label:d[1],value:0};d.length===3&&(h.value=e),dataLayer.push(h)}}}catch(e){};var $ZSIQUtil=$ZSIQUtil||function(){var a=["en","ar","da","de","el","es","fr","ga","he","hu","it","iw","ja","ko","nb","nl","pl","pt","pt_PT","ro","ru","sv","th","tr","zh","hr","cs","sk","sl"],b={0:"inherit",1:"salesiq-font",2:"ZSIQ Open Sans",3:"ZSIQ Oxygen",4:"ZSIQ Roboto"},c={},d=!1,e="",f,g=function(){var a=$zohosq.utsvalues.trackingdomain;return a||(a=location.hostname.toString().replace(/^w{3}\./,""),/^[a-zA-Z0-9-\.]+$/.test(a)||(a="")),a?a:""},h=function(){var a=(document.documentElement.lang||"").replace(/-/g,"_"),b=(navigator.language||navigator.userLanguage||"").replace(/-/g,"_");return[a,b]},i=function(a,b,c,d){var e={WIDTH:b,HEIGHT:a},f=[d/b,c/a];return f=Math.min(f[0],f[1]),f>1?e:(e={WIDTH:b*f,HEIGHT:a*f},e)},j=null;return{STATUS_ENABLE:1,STATUS_DISABLE:0,initializeAPIValues:function(){_ZSIQ.JSAPI.identifySIQParam();try{$zohosq.internalready(),c=$zohosq.values}catch(a){}try{$zohosq.ready();if(c&&$zohosq.values)for(var b in $zohosq.values)c[b]=$zohosq.values[b];else c=$zohosq.values;c.uvid=$UTSHandler.get("_zldt")}catch(a){}},getAPIValues:function(){return c},isCSSTransformSupport:function(){try{var a="transform WebkitTransform MozTransform OTransform msTransform".split(" "),b=document.createElement("div");for(var c=0;c<a.length;c++)if(b&&b.style[a[c]]!==undefined)return a[c]}catch(d){return!1}return!1},onCDNFailure:function(a){var b=$ZSIQWidget.getWidgetObject().cssstaticserver,c=$ZSIQChat.getWidgetData().jsstaticserver,d=a.href?a.href:a.src,e="",f=d.match(/\.([^.]+)$/);f&&(e=f[1]),e=="js"?(link=document.createElement("script"),link.src=c):e=="css"&&(link=document.createElement("link"),link.rel="stylesheet",link.href=b,link.type="text/css");var g=document.getElementsByTagName("head")[0];g.appendChild(link)},getSourceID:function(){window.addEventListener("message",function(a){a.data.message&&a.data.message.type==="ZOHOSALESIQ-SCEEN-SOURCE-ID"&&($ZSIQUtil.getIframe().avimpl.screen_id=a.data.message.data,$ZSIQUtil.getIframe().avaction.constraints.SCREEN_SHARE.video.mandatory.chromeMediaSourceId=$ZSIQUtil.getIframe().avimpl.screen_id,$ZSIQUtil.getIframe().avaction.checkMediaPermission())}),window.postMessage({requestId:"get_sourceId",message:"ZOHOSALESIQ-GET-SCREEN-SOURCEID"},"*")},fadeInAnimate:function(a,b){var c=0,d=setInterval(function(){c>=1&&(clearInterval(d),a.style.display=""),c+=.1,a.style.opacity=c},b)},fadeOutAnimate:function(a,b,c){var d=1,e=setInterval(function(){d<=0&&(clearInterval(e),a.style.display="none",c&&c()),d-=.1,a.style.opacity=d},b)},storeCookieVal:function(a,b,c){var d=new Date,e=5;c==0&&(e=1440),d.setTime((new Date).getTime()+e*60*1e3);var f=$ZSIQWidget.getWidgetObject().lsid,h="zld"+f+a+"="+escape(b)+";expires= "+d.toGMTString()+";path=/";try{var i=g();h+=i?";domain="+i:""}catch(j){}document.cookie=h},getCookieValue:function(a){var b=$ZSIQWidget.getWidgetObject().lsid,a="zld"+b+a,c=document.cookie.indexOf(a),d=document.cookie.length;if(c==-1)return"";var e=a.length,f=c+e,g=unescape(document.cookie.substr(f+1,d).split(";")[0]);return g=="state"&&alert("state found"),g},containsClass:function(a,b){return a?a.classList?a.classList.contains(b):(new RegExp("(^| )"+b+"( |$)","gi")).test(a.classname):!1},bindClickEvent:function(a,b){window.addEventListener?a.addEventListener("click",b):a.attachEvent("onclick",b)},bindFocusEvent:function(a,b){window.addEventListener?a.addEventListener("focus",b):a.attachEvent("onfocus",b)},getBrowserLanguage:function(){var b="",c=h();for(var d=0;d<c.length;d++){var e=c[d];if(e){var f=e.split("_");return b=f[0],a.indexOf(e)>-1?e:a.indexOf(b)>-1?b:""}}},getAPILanguage:function(){return api_lang=($ZSIQUtil.getAPIValues().language||"").replace(/-/g,"_")},isFetchGeoDetails:function(){return $ZSIQUtil.getAPIValues().fetchgeolocation==1},startAfterReady:function(a){try{$zohosq.afterReady(a);if(c&&$zohosq.values)for(var b in $zohosq.values)c[b]=$zohosq.values[b];else c=$zohosq.values;c.uvid=$UTSHandler.get("_zldt")}catch(d){}},getAPIVisitorID:function(){return $ZSIQUtil.getAPIValues().id},getIframe:function(){var a=document.getElementById("siqiframe");return a.contentWindow||a.contentDocument.document||a.contentDocument},getConfigFromStorage:function(){var a="ZSIQ"+$zohosq.widgetcode+"data";if(!a)return;var b=$ZSIQLSDB.get(a);return b},storeDetails:function(a){var b="ZSIQ"+$zohosq.widgetcode+"data",c={},d=864e5;$ZSIQLSDB.set(b,a,d)},ajax:function(a,b,c,d){var e=b||function(){},f=c||function(){},g=new XMLHttpRequest;if("withCredentials"in g)g.onreadystatechange=function(){this.readyState==4&&this.status==200?e(this.response):f(this.response)},g.open("GET",a,!0),d&&(g.withCredentials=!0);else if(typeof XDomainRequest!="undefined"){g=new XDomainRequest;try{g.onload=function(){e(this.response)},g.onerror=function(){f(this.response)}}catch(h){}g.open("GET",a),d&&(g.withCredentials=!0)}g.send()},parseToJSON:function(a){try{if(!a||typeof a=="object")return a;a=JSON.parse(a)}catch(b){}return a},setText:function(a,b){var c=document.getElementsByTagName("body")[0],d=document.getElementById(a);"textContent"in document.body?d.textContent=b:d.innerText=b},getWebFontFamily:function(){var a=document.body,c="",d=$ZSIQWidget.getWidgetObject();return d.font[0]==$ZSIQUtil.STATUS_ENABLE&&d.font[1]["default"]&&d.font[1]["default"]!="0"?c=b[""+d.font[1]["default"]]:a.currentStyle?c=a.currentStyle.fontFamily:document.defaultView&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue("font-family")),c||"salesiq-font"},getImageURL:function(a,b){var c=window.location.protocol+"//"+$ZSIQWidget.getEmbedObject().embedserverurl+"/"+a.screenname+"/"+b.fpath+"/photo.ls";return b.ispreview==1&&(c+="?ispreview=true"),c},blinkTitle:function(a){if(!a)return!1;d||(e=document.title,d=!0),clearTimeout(f);var b,c="";f=setInterval(function(){b=="title"?(c=a,b="chatmsg"):(c=e,b="title"),document.title=c},500)},stopBlinking:function(){if(!d)return;clearTimeout(f),d=!1,document.title=e},setShrinkImageCSS:function(a,b,c){var d=i(a.naturalHeight,a.naturalWidth,b,c);a.style.height=d.HEIGHT+"px",a.style.width=d.WIDTH+"px"},isValidPhoneNo:function(a){return a?/^[+0-9A-Za-z():.\-\[\] ]{1,30}$/.test(a):!1},getProductURLForImage:function(){var a=$ZSIQChat.getWidgetData();if(!a.commondata.isdev)return"";var b=$ZSIQChat.getWidgetData().embedobj;return b.schema+"://"+b.producturl},getURLParameterByName:function(a){if(j)return j[a];j={};var b=window.location.search,b=b.replace(/^\?/g,""),c=b.split("&"),d=[];for(var e=0;e<c.length;e++)d=c[e].split("="),j[d[0]]=d[1];return j[a]},linkifySubString:function(a){try{var b=/((?:href|src)=["']?)?((https?:\/\/(?:www\.)?|www\.)[a-z0-9][^@]*?)(?=&quot;|&#x27;|&lt;|[\s"'<]|$)/ig;a=a.replace(b,function(a,b,c,d){var e=d==="www."?"http://"+c:c,f=window.location.protocol+"//"+$ZSIQWidget.getEmbedObject().embedserverurl;return b?a:"<a href='"+e+"' target='_blank' class='zsiq_hyperlink' >"+c+"</a>"})}catch(c){}return a},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},formWidgetObject:function(a){var b={};for(var c in a)b[c]=$ZSIQUtil.parseToJSON(a[c]);return $ZSIQAnalytics=b.analytics,$ZSIQAutopick=b.autopick,_ZSIQ.brandname=b.brandname,b},formEmbedObject:function(a){var b={};for(var c in a)b[c]=$ZSIQUtil.parseToJSON(a[c]);return b},getObjectKeys:function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},getGDPRBanner:function(a,b){var c=b.trackingprivacystatement?b.trackingprivacystatement:a.i18nkeys["gdpr.banner.notify"],d=a.i18nkeys["gdpr.banner.button.ok"],e=a.i18nkeys["gdpr.banner.button.donottrack"],f=b.trackingprivacystatement?b.trackingprivacystatement:a.i18nkeys["gdpr.banner.donottrack"],g=a.i18nkeys["gdpr.banner.learnmore"],h=$UTSHandler.getAPIValuesForUTS(),i=h.tracking&&h.tracking=="off"||!a.istracking?!0:!1,j="",h=$ZSIQUtil.getAPIValues();if(h.trackbannerobj){var k=h.trackbannerobj;c=k.description&&k.description.trim().length!=0?k.description:c,d=k.acceptbutton&&k.acceptbutton.trim().length!=0?k.acceptbutton:d,e=k.declinebutton&&k.declinebutton.trim().length!=0?k.declinebutton:e;if(k.policytextandlink){var l=k.policytextandlink;g=l.text&&l.text.trim().length!=0?l.text:g,b.cookiepolicyurl=l.link&&l.link.trim().length!=0&&$ZSIQUtil.isValidURL(l.link)?l.link:b.cookiepolicyurl}}if(b.cookiepolicyurl){var m=b.cookiepolicyurl.indexOf("http")==-1?"http://"+b.cookiepolicyurl:b.cookiepolicyurl;j="<a class='siq-lnmor' target='_blank' href='"+m+"'>"+g+"</a>"}switch(JSON.parse(b.trackingprivacyconfig)){case 1:return"<div id='gdprbanner' class='siq-msgbanr'><span class='dib-mid'>"+c+""+j+""+"</span>"+"<div class='siq-clkoptn'>"+"<div class='siq-okbtn dib-mid' onclick=$ZSIQUtil.updateCookieForTracking(0,'"+b.trackingprivacyconfig+"') >"+d+"</div>"+"</div>"+"</div>";case 2:return"<div id='gdprbanner' class='siq-msgbanr'><span class='dib-mid'>"+c+""+j+""+"</span>"+"<div class='siq-clkoptn'>"+"<div class='siq-okbtn dib-mid' onclick=$ZSIQUtil.updateCookieForTracking(0,'"+b.trackingprivacyconfig+"') >"+d+"</div>"+(i?"":"<div class='siq-trkbtn dib-mid'onclick=$ZSIQUtil.updateCookieForTracking(1,'"+b.trackingprivacyconfig+"') >"+e+"</div>")+"</div>"+"</div>"}},getGDPRBannerCookieKey:function(a){var a=a?a:$ZSIQWidget.getWidgetObject().screenname,b="gdpr_"+a;return b},updateCookieForTracking:function(a,b){var c=$ZSIQUtil.getGDPRBannerCookieKey(),d=$ZSIQUtil.getGDPRBannerCookieKey(),e=2592e6;c+="__donottrack",d+="_trackingconfig";switch(a){case 0:$ZSIQCookie.set(c,0,e,!1),$ZSIQCookie.set(d,b,e,!1),$ZSIQUtil.hideGDPRBanner(),$UTSHandler.init(!0);break;case 1:$ZSIQCookie.set(c,1,e,!1),$ZSIQCookie.set(d,b,e,!1),$ZNotifyTracking(1,"off"),$ZSIQUtil.hideGDPRBanner()}},checkGDPRBannerStatus:function(a,b,c){var d=c.pinfo.pinfo,e=d.trackingprivacyconfig,f=$ZSIQUtil.getGDPRBannerCookieKey(b);switch(a){case 0:var g=$ZSIQCookie.get(f+"__donottrack"),h=$ZSIQCookie.get(f+"_trackingconfig");return g.length!=0&&h==e?!0:!1;case 1:return $ZSIQCookie.get(f+"__donottrack")==0?!0:!1;case 2:return $ZSIQCookie.get(f+"__donottrack")==1&&e==2?!0:!1}return!1},hideGDPRBanner:function(){var a=document.getElementById("gdprbanner");$ZSIQWidgetUI.addClass(a,"gdprbanner_slide")},getGDPRPendingStatus:function(a,b,c){var d=!1;try{if(b.pinfo&&b.pinfo.pinfo){var e=b.pinfo.pinfo,f=JSON.parse(e.isgdprenabled),g=a.widgetobj.isgdprenabled==1?!0:!1,h=e.trackingprivacyconfig;f&&h!=0&&!$ZSIQUtil.checkGDPRBannerStatus(0,c,b)&&g&&(d=!0)}}catch(i){}return d},isValidURL:function(a){var b=new RegExp(/^(((http|https):\/\/(www.){0,1})|www.){1}[a-zA-Z0-9]+[-a-zA-Z0-9@:/%_+.~#?&/=]*[^.]$/);return typeof a!="undefined"&&b.test(a)},hyperLinksSubString:function(a,b,c){try{if(a.indexOf(b)!==-1&&c.length!=0){var d=a.length,e=b.length,f=a.substring(0,a.indexOf(b)),g=a.substring(a.indexOf(b),a.indexOf(b)+e),h=a.substring(a.indexOf(b)+e,d);c=c.indexOf("http")==-1?"http://"+c:c,g="<a class='siq-lnmor' target='_blank' href='"+c+"'>"+g+"</a>",a=f+g+h}else c.length!=0&&(c=c.indexOf("http")==-1?"http://"+c:c,a+=" <a class='siq-lnmor' target='_blank' href='"+c+"'>"+b+"</a>")}catch(i){}return a}}}();var $UTSHandler=$UTSHandler||function(){var a=1,b=2,c=3,d=4,e=5,f=6,g=7,h=8,i=function(a,b){var c={};c[a]=b;var d;try{d=$ZSIQUTS.getFromSession("utssynccache")||JSON.stringify([]),d=JSON.parse(d),d.push(c)}catch(e){d=[]}$ZSIQUTS.storeInSession("utssynccache",JSON.stringify(d))},j=function(i,j){var k=j[i];switch(parseInt(i)){case a:$UTSHandler.handleChatTriggers(k.type,k.data);break;case b:$ZSIQChatWindow.openChatWindow(!0);break;case c:$ZSIQWidgetUI.handleWidgetVisible("show");break;case d:$ZSIQUTSAction.handleButtonGlow();break;case e:$ZSIQUTSAction.handleAnimate();break;case f:var l=$ZSIQUtil.getIframe();l.$Support.setUVID(k.uvid);break;case g:$UTSHandler.handleTrackChat(k.data);break;case h:$UTSHandler.handleUTSConnect(k.data)}};return{getUTSCachedata:function(){var a=$ZSIQUTS.getFromSession("utssynccache");if(!a)return;a=JSON.parse(a);for(var b in a){var c=a[b];for(var d in c)j(d,c)}$ZSIQUTS.storeInSession("utssynccache",JSON.stringify([]))},storeInSession:function(a,b){$ZSIQUTS.storeInSession(a,b)},get:function(a){return $ZSIQUTS.get(a)},getFromSession:function(a){return $ZSIQUTS.getFromSession(a)},updateAction:function(a){$ZSIQUTS.updateAction(a)},handleApiChange:function(a,b){$ZSIQUTS.handleApiChange(a,b)},init:function(a){$ZSIQUTS.init(a)},getUTSActionData:function(){return $ZSIQUTSAction.getUTSActionData()},handleChatTriggers:function(b,c){var d=$ZSIQChat.getWidgetData(),e=$ZSIQUtil.formWidgetObject(d.widgetobj);if(e.hideembed==1)return;try{var f=$ZSIQUtil.getAPIValues(),g=$ZSIQUtil.getIframe();g.$Support.istrigmsg&&f.triggermsg&&$ZSIQWidgetUI.getWidgetState()!=$ZSIQWidgetUI.F_WINDOW?g.$Support.incrementUnreadCount():$ZSIQWidgetUI.setWidgetState($ZSIQWidgetUI.F_WINDOW),g.$Support.Util.handleTriggers(b,c)}catch(h){var j={};j.type=b,j.data=c,i(a,j)}},openChatWindow:function(){try{$ZSIQChatWindow.openChatWindow(!0)}catch(a){i(b,{})}$UTSHandler.updateAction({type:"1"})},showButton:function(){try{$ZSIQWidgetUI.handleWidgetVisible("show")}catch(a){i(c,{})}},getFloatStatus:function(){try{return $ZSIQWidget.getWidgetStatus()}catch(a){var b=$ZSIQChat.getWidgetData(),c=$ZSIQUtil.formWidgetObject(b.widgetobj);return c.status}},getFloatDiv:function(a){try{return $ZSIQWidgetUI.getWidgetDiv()}catch(b){return i(a,{}),null}},getFloatState:function(){return $ZSIQWidgetUI.getWidgetState()},setUVID:function(a){var b=$ZSIQUtil.getAPIValues();b.uvid=a;try{var c=$ZSIQUtil.getIframe();c.$Support.setUVID(a)}catch(d){i(f,{uvid:a})}$zv.uvid=a},getDomain:function(){var a=$zohosq.utsvalues.trackingdomain;return a||(a=location.hostname.toString().replace(/^w{3}\./,""),/^[a-zA-Z0-9-\.]+$/.test(a)||(a="")),a?a:""},handleTrackChat:function(a){try{var b=$ZSIQWidgetUI.getWidgetState()==1?$ZSIQWidgetUI.F_BUTTON:$ZSIQWidgetUI.F_WINDOW;$ZSIQWidgetUI.setWidgetState(b),$ZSIQUtil.getIframe().$Support.Util.handleTrackChat(a)}catch(c){var d={};d.data=a,i(g,d)}},handleUTSConnect:function(a){try{$ZSIQUtil.getIframe().$Support.Util.handleUTSConnect(a)}catch(b){var c={};c.data=a,i(h,c)}},getAPIValuesForUTS:function(){var a=$ZSIQUtil.getAPIValues(),b=$ZSIQChat.getWidgetData(),c=$ZSIQUtil.formWidgetObject(b.widgetobj);return a.name=a.name||c.visitorname,a.email=a.email||c.visitoremail,a},setTrackedfrommailchimp:function(a){$ZSIQChat.istrackedfrommailchimp=a},isTrackedfrommailchimp:function(){return $ZSIQChat.istrackedfrommailchimp}}}();var $ZSIQUTS=$ZSIQUTS||function(a){var b,c,d,e,f,g,h,i={CORS:0,WS:1,SW:2},j={OFFLINE:0,ONLINE:1,INIT:-1},k=i.WS,l=function(a,b){var c=b?"ws":"http";return!a&&a.location?c+"://":a.location.protocol?a.location.protocol.indexOf("https")!=-1?c+"s://":c+"://":l(a.parent,b)},m={net:{},util:{},moninterval:1e4,source:""},n=function(a){m.source=a+"_"+(new Date).getTime()},o=function(){var a=navigator.userAgent,b,c=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+[^\s|\$]+)/i)||[];if(/trident/i.test(c[1]))return b=/\brv[ :]+(\d+)/g.exec(a)||[],"IE "+(b[1]||"");if(c[1]==="Chrome"){b=a.match(/\b(OPR|Edge)\/(\d+)/);if(b!=null)return b.slice(1).join(" ").replace("OPR","Opera")}return c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],(b=a.match(/[v|V]ersion\/(\d+[^\s|\$]+)/i))!=null&&c.splice(1,1,b[1]),c.join(" ")}(),p=!1;/ios 10.1/i.test(o)&&(p=!0);var q=function(){return d};m.seqmsg={servercount:-1,clientcount:-1,isconnectionmade:!1,maxexpirytime:6e5,maxdelay:6e4},m.seqmsg.init=function(a){!a&&a!=0&&(a=-1),m.seqmsg.servercount=a,m.seqmsg.getSequenceNo(),m.seqmsg.clientcount==-1&&(m.seqmsg.clientcount=a)},m.seqmsg.getServerUpdatedcount=function(){return m.seqmsg.servercount},m.seqmsg.updateServerUpdatedcount=function(a){!a&&a!=0&&(m.seqmsg.servercount=-1),m.seqmsg.servercount=a},m.seqmsg.getSequenceNo=function(){return m.seqmsg.clientcount==-1&&(m.seqmsg.clientcount=m.seqmsgdb.getSequenceNumber(!0)),m.seqmsg.clientcount},m.seqmsg.incrementSequenceNo=function(){m.seqmsg.clientcount++},m.seqmsg.enroll=function(a,b){if(!m.seqmsg.isconnectionmade)return;m.seqmsg.incrementSequenceNo();var c=m.seqmsgdb.getFromDB(),d={};d.data=a,d.time=(new Date).getTime()+m.seqmsg.maxexpirytime,c[m.seqmsg.clientcount]=d,m.seqmsgdb.updateInDB(c,m.seqmsg.maxexpirytime),!b},m.seqmsg.resend=function(a){if(!m.seqmsg.isconnectionmade)return;var b=m.seqmsg.clientcount,c=m.seqmsgdb.getSequenceNumber(!1),d=m.seqmsgdb.getFromDB();for(var e=0;e<a.length;e++){var f=a[e];if(d[f]){var g=d[f],h=g.data;m.notifier.sendData(h,undefined,!1),m.seqmsg.clear(f)}}},m.seqmsg.clear=function(a){var b=m.seqmsgdb.getFromDB();a?delete b[a]:b={},m.seqmsgdb.updateInDB(b,m.seqmsg.maxexpirytime)},m.seqmsgdb={},m.seqmsgdb.getFromDB=function(a){var b=$ZSIQUTS.getFromSession("seq_msgs")||"{}";return b=JSON.parse(b),a?b[a]||{}:b},m.seqmsgdb.getSequenceNumber=function(a){var b,c=m.seqmsgdb.getFromDB();for(var d in c)d=parseInt(d),b||(b=d),a?b<d&&(b=d):b>d&&(b=d);return b||-1},m.seqmsgdb.updateInDB=function(a,b){$ZSIQUTS.storeInSession("seq_msgs",JSON.stringify(a),b)};var r=function(){try{return a.sessionStorage?(sessionStorage.setItem("quota_test","1"),sessionStorage.removeItem("quota_test"),!0):!1}catch(b){}return!1},s=function(){try{return a.localStorage?(localStorage.setItem("quota_test","1"),localStorage.removeItem("quota_test"),!0):!1}catch(b){}return!1},t=function(a,b,c){a=y(a);var d=new Date;c=c||864e5,d.setTime(d.getTime()+c);var e=a+"= "+b+";expires= "+d.toGMTString();e+=";path=/";try{var f=$UTSHandler.getDomain();e+=f?";domain="+f:""}catch(g){}document.cookie=e},u=function(a,b,c){if(!s())return!1;a=y(a);var d=JSON.parse(localStorage.utsdb||"{}"),e={};return e[a]=b,c&&(e.ttl=c,e.time=(new Date).getTime()),d[a]=e,localStorage.utsdb=JSON.stringify(d),!0},v=function(a){if(!s())return!1;a=y(a);var b=JSON.parse(localStorage.utsdb||"{}"),c=b[a];return c?c.ttl&&c.ttl+c.time<(new Date).getTime()?(delete b[a],localStorage.utsdb=JSON.stringify(b),null):c[a]:null},w=function(a){a=y(a),a+="=";var b=document.cookie.indexOf(a),c="";return b!==-1&&(c=document.cookie.substr(b+a.length),c.indexOf(";")!==-1&&(c=c.substring(0,c.indexOf(";")))),c},x=function(){try{sessionStorage.utsdb=JSON.stringify("{}")}catch(a){}try{localStorage.utsdb=JSON.stringify("{}")}catch(a){}try{var b=["_zldp","_zldt","nextrecon","sid","siq_ref","siq_isdirect","siq_name","siq_email","siq_phone"];for(var c=0;c<b.length;c++){var d=b[c];d=y(d);var e=d+"= ;expires= "+(new Date(-1)).toGMTString();e+=";path=/";try{var f=$UTSHandler.getDomain();e+=f?";domain="+f:""}catch(a){}document.cookie=e}}catch(a){}},y=function(a){return c+"-"+a},z=function(a){return Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a)==="[object Array]"||Object.prototype.toString.call(a)==="[object Array Iterator]"},A=null,B=null,C=null,D=0,E=!1,F=!1,G=!1,H=l(a),I=j.INIT,J=3;m.net={disabledbyserver:!1,fallbacktimer:-1,monitortimer:-1,reconnectwhenactive:!1,lpt:0,writeenabled:!1,connAlive:function(){m.net.lpt=new Date},connMonitor:function(){N.logFine("inside connMonitor");var a=new Date;try{a-m.net.lpt>m.moninterval*3&&(!E&&!F?m.net.reconnect():E===!1&&(n("connMonitor_"+m.moninterval),m.net.reconnect())),!m.util.dbconsistencychecked&&!m.net.disabledbyserver&&m.util.checkConsistency()}finally{m.net.scheduleMonitor()}},scheduleMonitor:function(){N.logFine("inside scheduleMonitor"),clearTimeout(m.net.monitortimer),m.net.monitortimer=setTimeout(function(){m.net.connMonitor()},m.moninterval)},reconnect:function(){N.logFine("inside reconnect - $ZUserStatus.isactive : "+L.isactive),L.isactive&&(m.net.disableConnection(),m.init())},scheduleFallback:function(){clearTimeout(m.net.fallbacktimer),m.net.fallbacktimer=setTimeout(m.net.fallbackToCR,2e4)},unscheduleFallback:function(){clearTimeout(m.net.fallbacktimer)},fallbackToCR:function(){if(O._WEBSOCK.readyState!==O.readystate.OPEN||!O.initialized)O.disableConnection(),P.init()},handleUTSEvent:function(a){var b=a.d,c=a.o;switch(c){case 0:O.setInitialized(),m.net.writeenabled=!0,m.seqmsg.isconnectionmade=!0,m.notifier.notifyQueued(),$UTSHandler.setUVID($ZSIQUTS.get("_zldt")),$ZSIQUTSAction.handle(b.triggers),G=!0,b.isnewconnection=!0,K.handleConnect(b),$ZSIQUTSAction.includeBeforeSubmit(b),e.customaction&&m.notifier.updateCustomAction(e.customaction),b.sseqno&&m.seqmsg.init(parseInt(b.sseqno)),m.notifier.identifyByCampaign(),m.notifier.doLog(" isLocalstorage: "+s()+" isSessionStorage: "+r());break;case 1:O.ping(),B=b._zldp,A=b._zldt,g=b.sid,$ZSIQUTS.storeInSession("sid",g),$UTSHandler.setUVID(A),m.net.writeenabled=!0,m.seqmsg.isconnectionmade=!0,m.notifier.notifyQueued(),G=!0,K.handleConnect(b),$ZSIQUTSAction.handle(b.triggers),$ZSIQUTSAction.includeBeforeSubmit(b),b.sseqno&&m.seqmsg.init(parseInt(b.sseqno)),$UTSHandler.isTrackedfrommailchimp()||m.notifier.identifyByCampaign();break;case 2:B=b._zldp,A=b._zldt,g=b.sid;try{B=B?B.trim():B,A=A?A.trim():A,g=g?g.trim():g,$ZSIQUTS.store("_zldp",B,63072e6),$ZSIQUTS.store("_zldt",A,864e5),$ZSIQUTS.storeInSession("sid",g)}catch(d){}G=!0,m.util.checkMode(i.SW)||m.notifier.acknowledge();break;case 3:$ZSIQUTSAction.handle(b.triggers);break;case 4:if(m.util.checkMode(i.SW))return;if(b&&b.seqno){m.seqmsg.clear(b.seqno);return}if(b&&b.sseqno){m.seqmsg.updateServerUpdatedcount(parseInt(b.sseqno));if(b.missedseq){var f=JSON.parse(b.missedseq);m.seqmsg.resend(f)}return}break;case 100:b.uvid=$ZSIQUTS.get("_zldt")||A,$UTSHandler.handleTrackChat(b);break;case 101:b.action!=undefined&&b.action=="mailchimp"?t("mailchimp",JSON.stringify({email:b.email,name:b.name})):$ZSIQUTSAction.handle(b.triggers);break;case-1:if(m.util.checkMode(i.SW))return;b&&b.issidclear&&$ZSIQUTS.removeFromSession("sid");var h=b&&b.duration||"";m.net.disableConnection(h),m.net.disabledbyserver=!0}},handleResponse:function(b,c){F=!0;if(!b)return;b=JSON.parse(b);if(b&&b.seqno){m.seqmsg.clear(b.seqno);return}if(b&&b.sseqno){m.seqmsg.updateServerUpdatedcount(parseInt(b.sseqno));if(b.missedseq){var d=JSON.parse(b.missedseq);m.seqmsg.resend(d)}return}!c&&a.SharedWorker&&N.sendResponseToOthers(b);if(z(b))for(var e=0;e<b.length;e++)this.handleUTSEvent(b[e]);else this.handleUTSEvent(b)},scheduleRecon:function(){function d(a,b){return Math.floor(Math.random()*(b-a+1)+a)}var a=[30,60,90,120,300],b=0,c=-1;return function(e,f){e?(b=0,a[0]=d(5,30)):b<a.length-1&&b++;var g=a[b];n("scheduleRecon_"+g),clearTimeout(c),c=setTimeout(f,g*1e3)}}(),goOffline:function(){if(D>=J||I===j.OFFLINE){D>J&&(F=!1),E=!0;var a=!1;if(D===J||I===j.OFFLINE)a=!0;I=j.INIT,this.scheduleRecon(a,this.reconnect)}},requestSuccess:function(){if(D>=J||I===j.ONLINE)I=j.INIT,E=!1},disableConnection:function(b){E=!0;if(b){var c=b*60*1e3,d=(new Date).getTime()+c;$ZSIQUTS.store("nextrecon",d),n("disableConnection_nextrecon_"+d),setTimeout(function(){N.logFine("disable connect settimeout"),m.init()},c)}m.util.checkMode(i.WS)?O.disableConnection():m.util.checkMode(i.CORS)&&P.disableConnection(),m.net.writeenabled=!1,a.$UTSConnector&&$UTSConnector.util.net.terminateConnection()}},m.util={dbconsistencychecked:!1,offlinetimer:-1,addOnOffEvent:function(b,c){document.body.attachEvent?document.body.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c)},checkMode:function(a){return k===a?!0:!1},composeUrl:function(){function d(b,c){c&&a.push(b+"="+encodeURIComponent(f(c)))}function f(a){return a?a.replace(/^\s+|\s+$/gm,""):a}function h(){try{return(new Date).toTimeString().split(" ").slice(1,2)[0]}catch(a){}return""}function i(a){try{return(new Date).toTimeString().split(" ").slice(1).join(" ")}catch(b){}return""}var a=[];try{Float.stopBlinking()}catch(j){}var k=$zohosq.visitor.cpage()||document.location.href.substring(0,3072),l=$zohosq.visitor.pagetitle()||document.title.substring(0,3072);try{var m=$zohosq.visitor.onNavigate({url:k,title:l});m&&(k=m.url||k,l=m.title||l)}catch(j){}var n=$ZSIQUtil.getURLParameterByName("mc_cid"),o=$ZSIQUtil.getURLParameterByName("mc_eid");if(n==null&&o==null){var p=w("mailchimp");if(p){var q=JSON.parse(p);e.name=q.name,e.email=q.email}}var r={"x-e":""+b,"x-s":""+c,cpage:k,"x-sid":g,ptitle:l,_zldp:$ZSIQUTS.get("_zldp"),_zldt:$ZSIQUTS.get("_zldt"),name:e.name,email:e.email?e.email.toLowerCase():"",phone:e.phone,localtime:i(),gmttime:h(),docref:document.referrer.substring(0,3072)};try{$zoho.salesiq.con_id&&(r.con_id=""+$zoho.salesiq.con_id,delete $zoho.salesiq.con_id)}catch(j){}r.referer=null,$ZSIQUTS.getFromSession("siq_isdirect")||($ZSIQUTS.getFromSession("siq_ref")?r.referer=$ZSIQUTS.getFromSession("siq_ref"):$zohosq.visitor.referer()||document.referrer?($ZSIQUTS.storeInSession("siq_ref",$zohosq.visitor.referer()||document.referrer.substring(0,3072)),r.referer=$zohosq.visitor.referer()||document.referrer.substring(0,3072)):$ZSIQUTS.storeInSession("siq_isdirect",!0));for(var s in r)r.hasOwnProperty(s)&&d(s,r[s]);try{Float.blinkTitle(Float.blinkmsg)}catch(j){}if(G)d("recon","true");else{if(e.info){var t=e.info;typeof t=="object"&&(t=JSON.stringify(t)),d("cinfo",t)}var u=e.trackstatus;u&&d("cstatus",JSON.stringify(u))}return a.join("&")},bindEvents:function(){try{(function(a){var b=a.pushState;a.pushState=function(c){var d=b.apply(a,arguments);return typeof a.onpushstate=="function"&&a.onpushstate(),d}})(a.history);function b(){var a={};a.cpage=document.location.href.substring(0,3072),a.ptitle=document.title.substring(0,3072),a.referer=document.referrer.substring(0,3072),m.notifier.updateNavigtion(a)}M(a,"hashchange",b),a.history.onpushstate=function(a){try{b()}catch(c){}},navigator.userAgent.indexOf("Firefox")!==-1&&(a.onbeforeunload=function(){var b=a.onbeforeunload;return function(a){m.net.disableConnection();if(typeof b=="function")return b();if(a.returnValue)return a.returnValue}}())}catch(c){}},checkConsistency:function(){if(A!==$ZSIQUTS.get("_zldt")||B!==$ZSIQUTS.get("_zldp"))g=null,m.net.reconnect();m.util.dbconsistencychecked=!0}},m.util.addOnOffEvent("online",function(){m.util.offlinetimer&&m.util.offlinetimer!=-1?clearTimeout(m.util.offlinetimer):(n("onlineevent"),L.isactive?m.net.reconnect():m.net.reconnectwhenactive=!0),I=j.ONLINE}),m.util.addOnOffEvent("offline",function(){m.util.offlinetimer&&m.util.offlinetimer!=-1&&clearTimeout(m.util.offlinetimer),m.util.offlinetimer=setTimeout(function(){n("offlineevent"),I=j.OFFLINE,m.net.reconnectwhenactive=!1,m.net.goOffline(),m.util.offlinetimer=-1},2e3)}),m.notifier={qdata:[],maxsize:100,lastupdatedinfo:{}},m.notifier.notifyServer=function(b,c){if(a.$UTSConnector){$UTSConnector.util.net.trackEvent(b);return}if(m.util.checkMode(i.SW)||(m.net.writeenabled||c)&&(O._WEBSOCK.readyState===O.readystate.OPEN||m.util.checkMode(i.CORS))){m.notifier.sendData(b,undefined,!0);return}if(m.notifier.qdata.length>m.notifier.maxsize)return;m.notifier.removeIfExists(b),m.notifier.qdata.push(b)},m.notifier.removeIfExists=function(a){try{for(var b=0;b<m.notifier.qdata.length;b++)JSON.stringify(m.notifier.qdata[b])==JSON.stringify(a)&&m.notifier.qdata.splice(b,1)}catch(c){}},m.notifier.waitForSocketConnection=function(a,b){setTimeout(function(){if(a.readyState===O.readystate.OPEN){b!==undefined&&b();return}m.notifier.waitForSocketConnection(a,b)},500)},m.notifier.sendData=function(a,b,c){m.seqmsg.enroll(a,c);if(m.util.checkMode(i.WS)){var d=a;m.seqmsg.isconnectionmade&&(d={},d.data=a,d.seqno=m.seqmsg.getSequenceNo()),O._WEBSOCK.readyState===O.readystate.OPEN?O._WEBSOCK.send(JSON.stringify(d)):m.notifier.waitForSocketConnection(O._WEBSOCK,function(){O._WEBSOCK.send(JSON.stringify(d))})}else m.util.checkMode(i.CORS)?P.bind(JSON.stringify(a),b):m.util.checkMode(i.SW)&&N.send(a)},m.notifier.updateNavigtion=function(a){n("navdata_"+JSON.stringify(a)),this.notifyServer({opr:"nav",navdata:a})},m.notifier.updateCustomAction=function(a){n("customaction_"+JSON.stringify(a)),this.notifyServer({opr:"customaction",action:a});try{delete $zohosq.values.customaction}catch(b){}},m.notifier.doLog=function(a){n("dolog_"+JSON.stringify(a)),this.notifyServer({opr:"dolog",logdata:a})},m.notifier.enrollInfo=function(a,b){if(!a||!b)return;var c={};c[a]=b,c.uptime=(new Date).getTime(),m.notifier.lastupdatedinfo[a]=c},m.notifier.isUpdated=function(a,b){var c=m.notifier.lastupdatedinfo[a];if(!c)return!1;if(c[a]==b){var d=(new Date).getTime()-c.uptime;return 6e4>d?!0:(delete m.notifier.lastupdatedinfo[a],!1)}return!1},m.notifier.updateGuessInfo=function(a){a=a.details||{};var b={},c={};a.isError&&(b.isError=a.isError),a.name&&(b.name=a.name),a.email&&(b.email=a.email.toLowerCase()),a.phone&&(b.phone=a.phone),a.company&&(c.company=a.company),n("updateguessinfo_"+JSON.stringify(b)),this.notifyServer({opr:"updateguessinfo",detail:b,cinfo:JSON.stringify(c)})},m.notifier.updateInfo=function(a){n("updateInfo_"+JSON.stringify(a));var b=a.name,c;a.email&&(c=a.email.toLowerCase());var d;a.phone&&$ZSIQUtil.isValidPhoneNo(a.phone)&&(d=a.phone),m.notifier.isUpdated("name",b)&&(b=undefined),m.notifier.isUpdated("email",c)&&(c=undefined),m.notifier.isUpdated("phone",d)&&(d=undefined);if(!a.info&&!b&&!c&&!d)return;m.notifier.enrollInfo("name",b),m.notifier.enrollInfo("email",c),m.notifier.enrollInfo("phone",d),this.notifyServer({opr:"updateinfo",name:b,email:c,phone:d,cinfo:a.info})},m.notifier.identifyByCampaign=function(){var a=$ZSIQChat.getWidgetData(),b=$ZSIQUtil.formWidgetObject(a.widgetobj);if(b.ismailchimpenabled){var c=$ZSIQUtil.getURLParameterByName("mc_cid"),d=$ZSIQUtil.getURLParameterByName("mc_eid");if(c!=null&&d!=null)t("mc_cid",c),t("mc_eid",d);else{var e=w("mailchimp");e||(c=w("mc_cid"),d=w("mc_eid"))}c&&d&&(this.notifyServer({opr:"identifybycampaign",campaigndata:{mc_cid:c,mc_eid:d}}),$UTSHandler.setTrackedfrommailchimp(!0))}},m.notifier.updateStatus=function(a){if(a){n("updateStatus_"+a);try{this.notifyServer({opr:"status",status:""+a})}catch(b){}}},m.notifier.acknowledge=function(){var a=$ZSIQUTS.get("_zldt");if(!a)return;var b={opr:"ack",uvid:a};m.notifier.notifyServer(b,!0)},m.notifier.notifyQueued=function(){m.notifier.qdata.length&&m.net.writeenabled&&(m.notifier.sendData(m.notifier.qdata,!0,!0),m.notifier.qdata=[])};var K={};K.handleConnect=function(a){a.chid?(a.uvid=A,C=a,$UTSHandler.handleTrackChat(a)):$UTSHandler.handleUTSConnect(a)};var L={};L.updateIdle=function(){var a=L;if(a.isactive){m.notifier.updateStatus(a.idle),a.isactive=!1;try{$zohosq._invoke("visitor.idle",!0)}catch(b){}}},L.init=function(){if(this.isactive!==undefined)return;var a=e.idletime;a&&!isNaN(a)&&(a=a*60*1e3),this.idletime=a||9e5,this.timer=-1,this.online=1,this.idle=4,this.isactive=!0;var b=["keydown","keypress","mouseout","mouseenter","click"];for(var c=0;c<b.length;c++)M(document,b[c],L.active);this.active()},L.active=function(){var a=L;a.updateTimer();if(!a.isactive){a.isactive=!0,m.net.reconnectwhenactive?(m.net.reconnectwhenactive=!1,E=!1):m.notifier.updateStatus(a.online);try{$zohosq._invoke("visitor.active",!0)}catch(b){}}},L.updateTimer=function(){var a=L;clearTimeout(a.timer),a.timer=setTimeout(function(){L.updateIdle()},L.idletime)};var M=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!0)},N={initialized:!1,workerid:0,utsworkerurl:null,mastertabworkerid:0,utsworker:null,latimeupdater:null,lapolltimer:null,connecttimer:null,_enablelog:!1,logFine:function(a){N._enablelog&&console.log("%c "+a,"color: blue")},logTrace:function(a){N._enablelog&&console.log("%c "+a,"color: red")},logInfo:function(a){N._enablelog&&console.log("%c "+a,"color: green")},logObj:function(a){N._enablelog&&console.log(a)},init:function(a){m.seqmsg.isconnectionmade=!1,N.logFine("inside init funciton"),N.utsworkerurl=$ZSIQUTS.getFromLocalStorage("sw_url"),a?(N.workerid=0,N.mastertabworkerid=0):(N.workerid=-1,N.mastertabworkerid=-1),k=i.SW;if(e.tracking==="off")return;N.initOrStartWorker(a)},initOrStartWorker:function(a){N.logFine("inside initOrStartWorker funciton");if(N.utsworkerurl)try{N.initWorker(a)}catch(b){N.utsworkerurl=null,$ZSIQUTS.storeInLocalStorage("sw_url","",-1e3)}else N.initWorkerBlob(a)},initWorkerBlob:function(b){N.logFine("inside initWorkerBlob funciton");var c=document.createElement("script");c.type="text/worker",c.id="utsworker",c.innerHTML=N.getWorkerScript(),document.getElementsByTagName("body")[0].appendChild(c);var d=new Blob([document.querySelector("#utsworker").textContent],{type:"text/javascript"}),e=a.URL.createObjectURL(d);$ZSIQUTS.storeInLocalStorage("sw_url",e,36e5),N.utsworkerurl=e,N.initOrStartWorker(),document.getElementById("utsworker").remove()},initWorker:function(a){N.utsworker=new SharedWorker(N.utsworkerurl),N.utsworker.port.start(),N.utsworker.port.onmessage=function(a){try{N.onMessage(JSON.parse(a.data))}catch(a){m.notifier.doLog("Exception in SW: message - "+a.message+" stack - "+a.stack)}},N.scheduleConnectMonitor()},getWorkerScript:function(){var a="\n var connectedports = {}; /* To store list of ports with id as key*/ \n var mastertabid = -1;\n onconnect = function(event) {\n var port = event.ports[0];\n var formatted_port = construstPortObject(port);\n port.start();\n port.addEventListener('message', function(event) { listenForMessage(event); });\n notifyTabs(port, {operation : 'connect', payload : constructPayLoad(['id', 'mastertabid'], [formatted_port.id, mastertabid])});\n if (mastertabid == -1) {\n mastertabid = formatted_port.id;\n notifyTabs(port, { operation : 'makemaster' });\n }\n };\n var enrollConnected = function(portobj){\n if (!portobj || Object.keys(portobj).length == 0) {\n throw 'exception';\n }\n var id = portobj.id;\n var port = portobj.port;\n if (!id || !port) {\n throw 'exception';\n }\n do { // To prevent same ID getting overrided.\n if (!isKeyExists(id, connectedports)) {\n break;\n }\n id--;\n } while(true);\n connectedports[id] = portobj;\n portobj.id = id;\n return portobj;\n };\n var isKeyExists = function(key, hash) {\n if (!key || !hash) {\n return false;\n }\n var keylist = Object.keys(hash);\n return (keylist.indexOf('' + key) > -1);\n };\n var listenForMessage = function(event) {\n var port = getPortFromClientEvent(event);\n var data = {operation : event.data.operation, payload : JSON.parse(event.data.payload)};\n if (!port) {\n return;\n }\n switch(data.operation) {\n case 'tomaster':\n if (mastertabid == -1) {/* slave tab will resend the message. Bcoz ack not recieved. */\n return;\n }\n port = connectedports[mastertabid].port;\n break;\n case 'lapoll':\n connectedports[data.payload.id].port.latime = new Date().getTime();\n data.payload.mastertabid = mastertabid;\n port = connectedports[data.payload.id].port;\n if (mastertabid == -1) {\n mastertabid = data.payload.id;\n notifyTabs(port, { operation : 'makemaster' });\n }return;\n case 'tononmaster':\n for (var workerid in connectedports) {\n if (mastertabid == workerid) {\n continue;\n }\n notifyTabs(connectedports[workerid].port, data);\n }\n return;}\n if (port == -1) {\n notifyAllTabs(data);\n }\n else {\n notifyTabs(port, data);\n }\n };\n var notifyAllTabs = function(data){\n notifyTabs('-1', data);\n };\n var notifyTabs = function(port, data) {\n if (port == '-1') {\n for (var workerid in connectedports) {\n notifyTabs(connectedports[workerid].port, data);\n }\n }\n else {\n port.postMessage(JSON.stringify(data));\n }\n };\n var getPortFromClientEvent = function(event) {\n var data = event.data;\n var operation = data.operation;\n var payload = JSON.parse(data.payload);\n var clientworkerid = payload.id;\n if (!clientworkerid) {\n throw 'client id not not event';\n }\n if (!connectedports[clientworkerid]) {\n throw 'client id not registered with worker';\n }\n if (payload.isNotifyTabs) {\n return -1;\n }\n return connectedports[clientworkerid].port;\n };\n var construstPortObject = function(port) {\n var id = new Date().getTime();\n var customportobject = {};\n customportobject.port = port;\n customportobject.id = id;\n customportobject.connectedtime = new Date().getTime();\n return enrollConnected(customportobject);\n };\n var constructPayLoad = function(keys, values) {\n var payload = {};\n if (!keys || !values){\n return payload;\n }\n if (keys.length != values.length) {\n return payload;\n }\n for (var keyindex = 0; keyindex < keys.length; keyindex++) {\n payload[keys[keyindex]] = values[keyindex];\n }\n return payload;\n };\n var checkWorkerAlive = function(data) {\n for (var workerid in connectedports) {\n if (connectedports[workerid].port.latime < (new Date().getTime() - 8000)) {\n /* Mark as expired. B'coz last access time not updated. */\n delete connectedports[workerid];\n if (mastertabid == workerid) {\n mastertabid = -1;\n }\n } else {\n connectedports[workerid].port.postMessage(JSON.stringify({operation : 'alive', payload : {'mastertabid' : mastertabid, 'connectedports' : JSON.stringify(connectedports)}}));\n }\n }\n setTimeout(function () {\n checkWorkerAlive();\n }, 5000);\n };\n checkWorkerAlive();\n";return a},scheduleConnectMonitor:function(){N.unscheduleConnectMonitor(),N.connecttimer=setTimeout(function(){$ZSIQUTS.storeInLocalStorage("sw_url","",-1e3),N.init(!1)},500)},unscheduleConnectMonitor:function(){clearTimeout(N.connecttimer)},onMessage:function(a){N.logInfo("onMessage -"+JSON.stringify(a));var b=a.operation,c=a.payload;if(!b)return;switch(b){case"connect":m.net.connAlive(),L.init(),N.unscheduleConnectMonitor(),N.logFine("connected to worker - your id:"+c.id);var d=c.id,e=c.mastertabid,f=!1;N.workerid==0&&(f=!0),N.workerid=d,N.mastertabworkerid=e,N.initAccessTimePoll();if(f&&N.mastertabworkerid!=-1&&N.workerid!=N.mastertabworkerid){var g={};g.cpage=document.location.href.substring(0,3072),g.ptitle=document.title.substring(0,3072),g.referer=document.referrer.substring(0,3072),m.notifier.updateNavigtion(g)}break;case"makemaster":N.mastertabworkerid=N.workerid,m.init(!1,!0);break;case"alive":N.workerid!=N.mastertabworkerid&&m.net.connAlive();break;case"tomaster":if(N.workerid!=0&&N.workerid!=N.mastertabworkerid)return;c=c.data,m.notifier.notifyServer(c);break;case"tononmaster":m.net.handleResponse(c.data,!0);break;case"masterack":}},initAccessTimePoll:function(){N.clearAccessTimepoll(),N.lapolltimer=setInterval(function(){N.pollLATime()},5e3)},clearAccessTimepoll:function(){clearTimeout(N.lapolltimer)},pollLATime:function(){N.sendMessage("lapoll",{id:N.workerid})},send:function(a){N.sendMessage("tomaster",{id:N.workerid,data:a})},sendResponseToOthers:function(a){N.sendMessage("tononmaster",{id:N.workerid,data:JSON.stringify(a)})},sendMessage:function(a,b){if(!a||!b)return;if(!N.utsworker){N.logTrace("utsworker itself not initialised"+N.utsworker);return}N.logTrace("sendMessage "+JSON.stringify({operation:a,payload:JSON.stringify(b)})),N.utsworker.port.postMessage({operation:a,payload:JSON.stringify(b)})},disableConnection:function(){m.net.disableConnection()},constructPayload:function(a,b){var c={};c.id=workerid,c.isNotifyTabs=!1,isNotifyOtherTab&&(c.isNotifyTabs=!0);if(!a||Object.keys(a).length<1)return c;for(var d in a)c[d]=a[d];return c}},O={id:null,wsScheme:l(a,!0),_WEBSOCK:{},pingTimer:{},recontimer:null,readystate:{CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},initialized:!1,init:function(){m.seqmsg.isconnectionmade=!1,k=i.WS;if(e.tracking==="off")return;m.net.scheduleFallback();try{var b=O.wsScheme+q()+"/watchws?";b+=m.util.composeUrl();var c=$ZSIQUTS.getFromSession("connection_count")||0;c=parseInt(c),c++,$ZSIQUTS.storeInSession("connection_count",JSON.stringify(c)),b+="&connection_count="+c;try{"WebSocket"in a&&a.WebSocket!==undefined?O._WEBSOCK=new WebSocket(b):"MozWebSocket"in a&&(O._WEBSOCK=new MozWebSocket(b))}catch(d){N.logFine("Exception on new websocket "+d),clearTimeout(m.net.fallbacktimer),m.net.fallbacktimer=setTimeout(m.net.fallbackToCR,0);return}N.logFine("BEFORE WS.id - "+O.id),O._WEBSOCK.id=(new Date).getTime(),O.id=O._WEBSOCK.id,N.logFine("WS.id - "+O.id),O._WEBSOCK.onopen=function(a){O.onOpen(a)},O._WEBSOCK.onclose=function(a){N.logFine(" WS._WEBSOCK.onclose - "+this.id),N.logObj(a),O.id===this.id&&O.onClose(a)},O._WEBSOCK.onerror=function(a){O.onError(a)},O._WEBSOCK.onmessage=function(a){try{O.onMessage(a)}catch(b){m.notifier.doLog("Exception in WebSocket: message - "+b.message+" stack - "+b.stack)}}}catch(d){}},onMessage:function(a){N.logFine(" WS.onMessage - "+JSON.stringify(a)+" WS.initialized -> "+O.initialized+" WS.id -> "+O.id),m.net.connAlive(),D=0,m.net.requestSuccess(),O.initialized||m.net.scheduleFallback();var b=a.data;if(b==="//1//"){O.setInitialized();return}if(b==="")return;if(b===","){N.logFine("data = ,"),O.init();return}m.net.handleResponse(b),clearInterval(O.pingTimer),O.pingTimer=setInterval(function(){try{O._WEBSOCK.readyState===O.readystate.OPEN&&O._WEBSOCK.send(JSON.stringify({data:"-",seqno:m.seqmsg.getSequenceNo()}))}catch(a){m.notifier.doLog("Exception in WebSocket: ping - "+a.message+" stack - "+a.stack)}},2e4)},onOpen:function(a){N.logFine("inside ws.onopen - WS.recontimer - must be cleared"),clearTimeout(O.recontimer),L.init()},onError:function(a){N.logFine("inside ws.onError - evt -> "+JSON.stringify(a)),N.logObj(a)},onClose:function(a){N.logFine("inside ws.close - evt -> "+JSON.stringify(a));if(!m.util.checkMode(i.WS))return;D++,n("WS.onClose_"+D),m.net.goOffline(),clearTimeout(O.recontimer);var b=(new Date).getTime()%20;O.recontimer=setTimeout(function(){O.bind()},b*1e3)},bind:function(){if(E===!0||!m.util.checkMode(i.WS))return;if(O._WEBSOCK.readyState===O.readystate.CONNECTING||O._WEBSOCK.readyState===O.readystate.OPEN)N.logFine("websocet closed - WS._WEBSOCK.readyState - "+O._WEBSOCK.readyState),O._WEBSOCK.close(),m.seqmsg.isconnectionmade=!1;clearTimeout(O.recontimer),N.logFine("inside ws.bind"),O.init(),m.net.connAlive()},disableConnection:function(){try{N.logFine("websocket closed - by disableconnection"),O._WEBSOCK.close(),m.seqmsg.isconnectionmade=!1}catch(a){}},ping:function(){if(!m.util.checkMode(i.WS))return;O.initialized=!1,O._WEBSOCK.readyState===O.readystate.OPEN&&O._WEBSOCK.send("--1--")},setInitialized:function(){if(!m.util.checkMode(i.WS))return;O.initialized=!0,m.net.unscheduleFallback()}},P={lastevttime:0,reqobjs:[],fullTripTimer:null,respTimer:null,ajax:function(a){var b,c=a.type||"GET",d=a.async||!0,e=a.onSuccess||function(){},f=a.onFailure||function(){},g=a.url,h=a.options||{};b=new XMLHttpRequest;if("withCredentials"in b){b=new XMLHttpRequest,b.open(c,g,d),b.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),h.ajaxreq=b;try{b.onreadystatechange=function(){b.readyState===4&&(b.status===200?e(h):f(h))}}catch(i){throw clearTimeout(P.respTimer),n("withCreds_catch_"+i.message),P.respTimer=setTimeout(function(){P.bind()},1e4),D++,m.net.goOffline(),i}}else if(typeof XDomainRequest!="undefined"){b=new XDomainRequest,b.open("GET",g),h.ajaxreq=b;try{b.onprogress=function(){},b.ontimeout=function(){},b.onload=function(){e(h)},b.onerror=function(){f(h)}}catch(i){throw n("XDR_catch_"+i.message),clearTimeout(P.respTimer),P.respTimer=setTimeout(function(){P.bind()},1e4),D++,m.net.goOffline(),i}}return setTimeout(function(){b.send(a.qp)},0),b},sendReq:function(a,b){function c(a){var b=a.evtstarttime,c=a.ajaxreq.responseText;if(P.lastevttime-b>4e4&&c==="")return;m.net.handleResponse(c),m.seqmsg.isconnectionmade&&m.net.connAlive(),m.net.requestSuccess(),D=0;if(c!==""){try{var d=JSON.parse(c);if(d.sseqno!=undefined)return;if(z(d))for(var e=0;e<d.length;e++){var f=d[e];if(f.o=="4"){var g=f.d;if(g&&g.sseqno!=undefined)return}}else if(d.o=="4"){var g=d.d;if(g&&g.sseqno!=undefined)return}}catch(h){return}n("sendReq_success_"+c),P.bind()}}function d(a){var b=a.ajaxreq.status;P.reqobjs[0]&&P.reqobjs[0].abort(),n("sendReq_failure_"+b),clearTimeout(P.respTimer),P.respTimer=setTimeout(function(){P.bind()},1e4),b!==500&&b!==304&&b!==404&&b!==400&&(D++,m.net.goOffline())}var e=(new Date).getTime();P.lastevttime=e;var f={url:a,qp:b,type:"POST",onSuccess:c,onFailure:d,options:{evtstarttime:e}},g=P.ajax(f);P.reqobjs[0]=P.reqobjs[1],P.reqobjs[1]=g},init:function(){m.seqmsg.isconnectionmade=!1,k=i.CORS;if(e.tracking==="off")return;var a=H+d+"/watch",b=$ZSIQUTS.getFromSession("connection_count")||0;b=parseInt(b),b++,$ZSIQUTS.storeInSession("connection_count",JSON.stringify(b));try{P.sendReq(a,m.util.composeUrl()+"&nocache="+(new Date).getTime()+"&connection_count="+b)}catch(c){return}L.init()},bind:function(a,b){if(E===!0)return;P.respTimer!==null&&clearTimeout(P.respTimer);if(!g)return;var c=H+d+"/bind",e="sid="+encodeURIComponent(g)+"&nocache="+(new Date).getTime();a&&(e+="&",b&&(e+="q"),e+="data="+encodeURIComponent(a),e+="&",e+="seqno="+m.seqmsg.getSequenceNo()),m.seqmsg.isconnectionmade&&m.net.connAlive(),P.sendReq(c,e),clearTimeout(P.fullTripTimer),P.fullTripTimer=setTimeout(function(){n("self"),P.bind()},2e4)},disableConnection:function(){clearTimeout(P.fullTripTimer),clearTimeout(P.respTimer),m.seqmsg.isconnectionmade=!1}};m.init=function(b,c){N.logFine("uts -init"),b&&m.util.bindEvents(),E=!1;var d=!0;$ZSIQUTS.get("nextrecon")&&(d=$ZSIQUTS.get("nextrecon")-(new Date).getTime()<0?!0:!1),d=d&&!a.$UTSConnector;if(d)if(!c&&a.SharedWorker&&!1)N.init(!0);else if(!p&&"WebSocket"in a&&a.WebSocket!==undefined||"MozWebSocket"in a)N.logFine("websocket - init"),O.init();else if("withCredentials"in new XMLHttpRequest||a.XDomainRequest)N.logFine("CORS - init"),P.init()};var Q=function(){g=$ZSIQUTS.getFromSession("sid");try{if(a.opener){var b=a.parent.$ZSIQUTS.getFromSession("sid");b===g&&(g="")}}catch(c){}},R=function(){$zv.customaction&&$ZSIQUTS.handleApiChange(4,$zv.customaction),$zv.idletime&&$ZSIQUTS.handleApiChange(2,$zv.idletime),($zv.name||$zv.email||$zv.phone||$zv.info)&&$ZSIQUTS.handleApiChange(3,$zv)};return{SW:N,store:function(a,b,c){t(a,b,c),u(a,b,c)},storeInLocalStorage:u,getFromLocalStorage:v,removeFromSession:function(a){if(!r())return!1;a=y(a);var b=JSON.parse(sessionStorage.utsdb||"{}");return delete b[a],sessionStorage.utsdb=JSON.stringify(b),!0},storeInSession:function(a,b){if(!r())return!1;a=y(a);var c=JSON.parse(sessionStorage.utsdb||"{}");return c[a]=b,sessionStorage.utsdb=JSON.stringify(c),!0},get:function(a){return w(a)||v(a)},getFromSession:function(a){if(!r())return;a=y(a);var b=JSON.parse(sessionStorage.utsdb||"{}");return b[a]},updateAction:function(a){n("updateAction_"+JSON.stringify(a));var b={opr:"action",type:a.type};a.triggered_id&&(b.triggered_id=a.triggered_id),a.action_type&&(b.action_type=a.action_type),m.notifier.notifyServer(b)},handleApiChange:function(b,c){switch(b){case 1:c==="on"?(m.init(),a.$UTSConnector&&($UTSConnector.util.net.disabled_by_server=!1)):c==="off"&&(n("handleApiChange"),m.net.disableConnection());break;case 2:isNaN(c)||(L.idletime=c*60*1e3,L.updateTimer());break;case 3:m.notifier.updateInfo(c);break;case 4:m.notifier.updateCustomAction(c);break;case 5:m.notifier.updateGuessInfo(c);break;case 6:x()}},init:function(g){if(b&&!g){N.logFine("uts init already called - must be called twice");return}var h=$ZSIQChat.getWidgetData(),i=$ZSIQUtil.formWidgetObject(h.widgetobj),j=h.embedobj;b=i.embedname,c=i.screenname,d=i.utsserver,f=i.zldvp;var k=$ZSIQUtil.getGDPRPendingStatus(h,j,c);i.forcehttps&&(a.$UTSConnector?$UTSConnector.enableForceSecure():(H="https://",O.wsScheme="wss://")),e=$UTSHandler.getAPIValuesForUTS(),$ZSIQ_UTSinitialized=!0,Q();try{!$ZSIQUTS.getFromSession("siq_isdirect")&&!$ZSIQUTS.getFromSession("siq_ref")&&(document.referrer?$ZSIQUTS.storeInSession("siq_ref",document.referrer.substring(0,3072)):$ZSIQUTS.storeInSession("siq_isdirect",!0))}catch(l){}if(!i.istracking&&(!e.tracking||e.tracking!="on")||e.tracking=="off"||$ZSIQUtil.checkGDPRBannerStatus(2,c,j)||k){a.$UTSConnector&&$UTSConnector.util.net.terminateConnection();return}A=$ZSIQUTS.get("_zldt"),B=$ZSIQUTS.get("_zldp")||f,R(),N.logFine("very first time uts init"),m.init(!0),a.$UTSConnector||m.net.scheduleMonitor()}}}(window);var $ZSIQUTSAction=$ZSIQUTSAction||function(a){var b={1:"left",2:"right",3:"bottom",4:"top"},c=6e4,d=0,e=0,f="",g={},h,i,j=function(){if($UTSHandler.getFloatStatus()==0&&d!==10)return;var a=!0;switch(d){case 2:$UTSHandler.handleChatTriggers(d,f);break;case 3:$UTSHandler.openChatWindow();break;case 4:break;case 5:break;case 6:m();break;case 7:$UTSHandler.showButton();break;case 8:n();break;case 9:$UTSHandler.handleChatTriggers(d,f);break;case 10:k()===!1&&(a=!1)}try{a&&$ZSIQUTS.updateAction({type:"7",action_type:d,triggered_id:h})}catch(b){}},k=function(){try{var a={triggername:f.triggername,visitorinfo:g};return $zohosq._invoke("visitor.trigger",a)}catch(b){return!1}},l=function(a){try{var b=String(a).toLowerCase();if(b.search(/hour/i)!=-1)return 36e5*parseInt(b);if(b.search(/minute/i)!=-1)return 6e4*parseInt(b);if(b.search(/second/i)!=-1)return 1e3*parseInt(b)}catch(c){}return 0},m=function(){function m(){var a=parseInt(c.style[h]),b=$UTSHandler.getFloatState();if(a<e||a>d||b==="2"){c.style[h]=j,c.style[g[f.animatetype]]=k;return}c.style[h]=a+10+"px",setTimeout(m,i)}var c=$UTSHandler.getFloatDiv(5);if(c==null)return;var d,e=0,g={1:"right",2:"left",3:"top",4:"bottom"},h=b[f.animatetype];h==="left"||h==="right"?(d=a.innerWidth||document.body.clientWidth,d-=c.offsetWidth+10):(d=a.innerHeight||document.body.clientHeight,d-=c.offsetHeight+10);var i=l(f.duration)||50,j=c.currentStyle?c.currentStyle[h]:document.defaultView.getComputedStyle(c,null)[h],k=g[f.animatetype];k=c.currentStyle?c.currentStyle[k]:document.defaultView.getComputedStyle(c,null)[k],c.style[g[f.animatetype]]="auto",c.style[h]="0px",m()},n=function(){function o(){var a=.2126*e[0]+.7152*e[1]+.0722*e[2];return parseInt(a)<128?!0:!1}function p(){function c(a){return a=parseInt(a),b?Math.round((255-a)*.6+a):Math.round((0-a)*.2+a)}var a=e,b=o(),d=c(a[0]),f=c(a[1]),g=c(a[2]);return d>255||f>255||g>255?a:[d,f,g]}function q(){var a=p();r(e,a,1e3);var b=l(f.duration)||c;setTimeout(function(){n=!0},b)}function r(b,c,f){var g=d,h=$UTSHandler.getFloatState();if(n&&b===e||h==="2"){g.style.backgroundColor="rgb("+e+")";return}var i=100,j=f/i,k=(c[0]-b[0])/j,l=(c[1]-b[1])/j,m=(c[2]-b[2])/j,o=b[0],p=b[1],q=b[2],s=this;this.step=function(){j--,j>0?(o=Math.floor(o+k),p=Math.floor(p+l),q=Math.floor(q+m),g.style.backgroundColor="rgb("+o+","+p+","+q+")",a.setTimeout(function(){s.step()},i)):(g.style.backgroundColor="rgb("+c+")",timer=setTimeout(function(){r(c,b,f)},500))},step()}var b=$UTSHandler.getFloatDiv(4);if(b==null)return;var d=b.querySelector(".zsiq_float"),e=d.currentStyle?d.currentStyle.backgroundColor:document.defaultView.getComputedStyle(d,null).backgroundColor;if(e.indexOf("#")!==-1){var g=e;g=g.replace("#","");var h=parseInt(g,16),i=h>>16&255,j=h>>8&255,k=h&255;e=[i,j,k]}else e=e.replace("rgb(","").replace(")","").split(",");for(var m=0;m<e.length;m++)e[m]=Number(e[m]);var n=!1;q()},o={};return o.isloadedfirst=!0,o.zsiqformnames=["name","yourname","subscribername","contactname","customername"],o.zsiqformemails=["email","emailid","youremail","contactemail","subscriberemail","mail","customeremail","emailaddress"],o.zsiqformpnos=["phone","pno","phone no","phoneno","phno","tel","mobilenumber","contactphone"],o.zsiqattriblist=["id","name","type","siqatrib"],o.zsiqformcompany=["company"],o.zsiqfirstname=["first_name","firstname"],o.zsiqlastname=["last_name","lastname"],o.submit=o.submit||{},o.isnameset=!1,o.isemailset=!1,o.isphoneset=!1,o.iscompanyset=!1,o.isElementAvailable=function(a){return!a||a.length==0?!1:!0},o.isEquals=function(a,b){return a==b},o.replaceSpecialChars=function(a){return a=a.replace(/[_.-]/g,""),a},o.formatAttribValue=function(a){return a=a.toLowerCase().trim(),a=o.replaceSpecialChars(a),a},o.checkInDOMAttrib=function(a,b,c){var d;for(var e=0;e<a.length;e++){var f=c.getAttribute(a[e]);if(!f)continue;f=o.formatAttribValue(f);for(var g=0;g<b.length;g++)if(o.isEquals(f,b[g])){d=c.value;break}if(d)break}return d||""},o.getName=function(a){if(o.isnameset)return;var b=o.checkInDOMAttrib(o.zsiqattriblist,o.zsiqformnames,a);return b},o.getEmail=function(a,b){if(o.isemailset)return;var c=o.checkInDOMAttrib(o.zsiqattriblist,o.zsiqformemails,a);return c},o.getPhoneNo=function(a,b){if(o.isphoneset)return;var c=o.checkInDOMAttrib(o.zsiqattriblist,o.zsiqformpnos,a);return c},o.getFirstName=function(a,b){var c=o.checkInDOMAttrib(o.zsiqattriblist,o.zsiqfirstname,a);return c},o.getLastName=function(a,b){var c=o.checkInDOMAttrib(o.zsiqattriblist,o.zsiqlastname,a);return c},o.getCompany=function(a,b){if(o.iscompanyset)return;var c=o.checkInDOMAttrib(o.zsiqattriblist,o.zsiqformcompany,a);return c},o.getDetails=function(a){var b={};if(!o.isElementAvailable(a))return b;var c=a.getElementsByTagName("input");if(!o.isElementAvailable(c))return b;var d="",e="",f="",g="",h="",i="";for(var j=0;j<c.length;j++){var k=c[j],l=k.name;if(!k.value)continue;d==""&&(d=o.getName(k)),e==""&&(e=o.getEmail(k)),f==""&&(f=o.getPhoneNo(k)),g==""&&(g=o.getFirstName(k)),h==""&&(h=o.getLastName(k)),i==""&&(i=o.getCompany(k))}if(d)b.name=d,o.isnameset=!0;else if(g){var m=g;h&&(m=m+" "+h),b.name=m,o.isnameset=!0}return i&&(b.company=i,o.iscompanyset=!0),e&&/^([\w]([\w\-\.\+\'\/]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2}))$/.test(e)&&(b.email=e,o.isemailset=!0),f&&/^[+0-9A-Za-z():.\-\[\] ]{1,30}$/.test(f)&&(b.phone=f,o.isphoneset=!0),b},o.getObjKeyCount=function(a){var b=0;if(a===null||typeof a!="object")return b;for(var c in a)a.hasOwnProperty(c)&&b++;return b},o.autoPickAndNotifyUTS=function(a){var b=o.getDetails(a);o.getObjKeyCount(b)!==0&&$zohosq.setValue("details",b,5)},o.overridedOnsubmit=function(b){try{b=b||a.event;var c=this;c||(c=b?b.target||b.srcElement:"");try{o.autoPickAndNotifyUTS(c)}catch(d){}var e=c.getAttribute("siq_id");if(e){var f=this.onsubmit;this.onsubmit=o.submit[e];var g;return this.onsubmit&&(g=this.onsubmit(b)),g===!1&&(b.preventDefault?b.preventDefault():b.returnValue=!1),this.onsubmit=f,g}}catch(d){$ZNotifyTracking(5,{details:{isError:!0}})}},o.attachFormSubmit=function(a){if(!o.isElementAvailable(a))return;for(var b=0;b<a.length;b++){var c=a[b];if(!o.isElementAvailable(c))continue;var d=0,e;do{var f=Math.floor(Math.random()*1e4);e="autopick_"+f;if(!o.submit[e])break;d++}while(d<10);c.setAttribute("siq_id",e),o.submit[e]=c.onsubmit,c.onsubmit=o.overridedOnsubmit}},o.includeInForms=function(a){a=a||document.forms;if(!o.isElementAvailable(a))return;o.attachFormSubmit(a)},o.includeInFrames=function(a){var a=a||document.getElementsByTagName("iframe");if(!o.isElementAvailable(a))return;for(var b=0;b<a.length;b++)try{var c=a[b].contentDocument||a[b].contentWindow.document,d=c.getElementsByTagName("form");o.includeInForms(d)}catch(e){}},o.isAutoPickDisabled=function(){return!$ZSIQAutopick.isenabled||!o.isloadedfirst||$ZSIQUTS.get("autopickdisabled")||o.getObjKeyCount(o.submit)!=0},o.isGuestToken=function(a,b){if(!a||a==b)return!0;var c=a.split(" ");return!isNaN(a)||a==="Guest"||c[0]==="Visitor"&&c[1]&&!isNaN(c[1])},{handleButtonGlow:n,handleAnimate:m,handle:function(a){if(!a)return;d=parseInt(a.type);if(!a.value)return;f=JSON.parse(a.value);if(a.visitorinfo){for(var b in a.visitorinfo)if(a.visitorinfo.hasOwnProperty(b)){var c=a.visitorinfo[b];isNaN(c)||(a.visitorinfo[b]=parseInt(c))}g=a.visitorinfo}e=l(f.time)-a.time,e>0&&setTimeout(j,e),h=a.triggerid},getUTSActionData:function(){return i},includeBeforeSubmit:function(a){o.isnameset=!o.isGuestToken(a.name,a.token),o.isemailset=a.isemailset||!1,o.isphoneset=a.isphoneset||!1,o.iscompanyset=a.iscompanyset||!1;if(o.isnameset&&o.isemailset&&o.isphoneset&&o.iscompanyset)return;if(o.isAutoPickDisabled())return;try{o.includeInForms(),o.isloadedfirst=!1}catch(b){}}}}(window);var _ZLDReq=function(){};_ZLDReq.samples="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_ZLDReq.getC=function(a,b){var c=a.charCodeAt(b);if(c>255)throw"error";return c},_ZLDReq.btoa=function(a){if(!a)return"";var b,c,d=[],e="=",f=a.length-a.length%3;for(b=0;b<f;b+=3)c=_ZLDReq.getC(a,b)<<16|_ZLDReq.getC(a,b+1)<<8|_ZLDReq.getC(a,b+2),d.push(_ZLDReq.samples.charAt(c>>18)),d.push(_ZLDReq.samples.charAt(c>>12&63)),d.push(_ZLDReq.samples.charAt(c>>6&63)),d.push(_ZLDReq.samples.charAt(c&63));switch(a.length-f){case 1:c=_ZLDReq.getC(a,b)<<16,d.push(_ZLDReq.samples.charAt(c>>18)+_ZLDReq.samples.charAt(c>>12&63)+e+e);break;case 2:c=_ZLDReq.getC(a,b)<<16|_ZLDReq.getC(a,b+1)<<8,d.push(_ZLDReq.samples.charAt(c>>18)+_ZLDReq.samples.charAt(c>>12&63)+_ZLDReq.samples.charAt(c>>6&63)+e)}return d.join("")};var $ZSIQChat=$ZSIQChat||function(){var a;SIQ_FLOAT=1,SIQ_BUTTON=2,SIQ_PERSONALIZE=3,_WINDOW_REPOPULATE=!1;var b={},c={};b[SIQ_FLOAT]=["/styles/floatbutton.css"],b[SIQ_BUTTON]=["/styles/buttonthemeWIDGTHEME.css"],b[SIQ_PERSONALIZE]=["/styles/personalizethemeWIDGTHEME.css"],c[SIQ_FLOAT]=["/js/floatbutton.js"],c[SIQ_BUTTON]=["/js/newbutton.js"],c[SIQ_PERSONALIZE]=["/js/personalizewidget.js"];var d=!1,e=!1,f=!1;try{d=_IS_PREVIEW}catch(g){}try{e=_IS_SIGNATURE_CHAT}catch(g){}var h=function(){return document.getElementById("zsiqscript").src},i=function(a,b){if(b.status!=undefined)return a.widgetobj.status=b.status,a;var c=a.widgetobj;_WIDGETTYPE==5&&(c=b.theme||b.integprops?a.embedobj:a.embedobj.einfo.props);if(b.embedstatus)a.embedobj.einfo.embedstatus=b.embedstatus;else for(var d in b)c[d]=b[d];return a.embedobj.einfo.embedstatus.STATUS=!b.toggleoffline,a},j=function(){var a="";return a||(a=location.hostname.toString().replace(/^w{3}\./,""),/^[a-zA-Z0-9-\.]+$/.test(a)||(a="")),a?a:""};return loadStaticFiles=function(){var e=a.widgettype,f=JSON.parse(a.widgetobj.sticker)[1]["default"],g=document.getElementsByTagName("head");if(!g||g.length==0)g=[],g[0]=document.createElement("head"),document.insertBefore(document.body,g[0]);var i=a.commondata.isdev,j=a.commondata.schema,k=h().split("://")[1].replace("/widget",""),l=a.widgetobj.widcssversion,m=a.commondata.cssstatic,n=j+"://"+m+"/salesiq/"+l,o=a.commondata.jsstaticserver,p=a.widgetobj.csscdnstaticserver,q=a.commondata.jscdnstaticserver;i&&(p=n=o=q=j+"://"+k,b[SIQ_FLOAT]=["/styles/common/gfonts.css","/styles/float/float-theme.css","/styles/float/font-icon.css","/styles/embed/new/common.css"],b[SIQ_BUTTON]=["/styles/common/gfonts.css","/styles/embed/new/button/themeWIDGTHEME.css","/styles/embed/new/button/font-icon.css","/styles/embed/new/chatwindow/chatwindow.css","/styles/embed/new/common.css"],b[SIQ_PERSONALIZE]=["/styles/common/gfonts.css","/styles/embed/new/personalize/common.css","/styles/embed/new/personalize/themeWIDGTHEME.css","/styles/embed/new/chatwindow/chatwindow.css","/styles/float/font-icon.css","/styles/embed/new/common.css"],c[SIQ_FLOAT]=["/js/embed/new/chatwindow/chatwindow.js","/js/embed/new/float/float-template.js","/js/embed/new/float/floatbuttonui.js","/js/embed/new/float/floatbutton.js"],c[SIQ_BUTTON]=["/js/embed/new/chatwindow/chatwindow.js","/js/embed/new/button/buttonui.js","/js/embed/new/button/button.js"],c[SIQ_PERSONALIZE]=["/js/embed/new/chatwindow/chatwindow.js","/js/embed/new/personalize/personalizeui.js","/js/embed/new/personalize/personalize.js"]),d&&(b[SIQ_BUTTON]=["/styles/buttonpreviewtheme.css"],b[SIQ_PERSONALIZE]=["/styles/personalizepreviewtheme.css"]);var r=b[e],s=c[e];for(var t=0;t<r.length;t++){var u=p+r[t];u=u.replace(/WIDGTHEME/g,f);var v=document.createElement("link");v.rel="stylesheet",v.href=u,notifyOnCDNFailure(v,g,(n+r[t]).replace(/WIDGTHEME/g,f),"css"),g[0].appendChild(v)}for(var t=0;t<s.length;t++){var w=document.createElement("script"),x=q+s[t];w.src=x,notifyOnCDNFailure(w,g,o+s[t],"js"),i&&(w.async=!1),g[0].appendChild(w)}},notifyOnCDNFailure=function(a,b,c,d){a.onerror=function(){$ZSIQCookie.set("cdn_status",1,1728e5);var a="";d=="js"?(a=document.createElement("script"),a.src=c):d=="css"&&(a=document.createElement("link"),a.rel="stylesheet",a.href=c),b[0].appendChild(a)}},{init:function(){try{a=WIDGET_DATA}catch(b){$ZSIQUtil.initializeAPIValues(),$ZSIQChat.getEmbedDetails()}},getWidgetData:function(){return a},getEmbedDetails:function(){var a=h(),b=a.replace("widget","getembeddetails.ls");b+="?widgetcode="+$zohosq.widgetcode;var c=$ZSIQUtil.getConfigFromStorage();c&&c.last_modified&&!d&&(b=b+"&last_modified="+c.last_modified);var e=!0;if(c&&c.widgetobj){var f=$ZSIQLSDB.get("ZLD"+c.widgetobj.lsid+"avuid");f&&(e=!1)}b=b+"&fetchavuid="+e,c&&c.version&&(b=b+"&version="+c.version);var g=$ZSIQUtil.getAPILanguage();g&&(b=b+"&lang_api="+g);if(g.length==0&&c.widgetobj&&c.widgetobj.langchangeviaapi==1||g.length!=0&&c.embedobj&&c.embedobj.lang!=g)b=b+"&fetchapilang="+!0;var i=$ZSIQUtil.getBrowserLanguage();i&&(b=b+"&lang_browser="+i);var k=c&&c.geodetails;$ZSIQUtil.isFetchGeoDetails()&&!k&&(b+="&fetchgeo=true");var l=j(),m=document.location.href,n=document.referrer,o=window.document.title;l&&(b=b+"&currdomain="+encodeURIComponent(location.protocol+"//"+l)),navigator.userAgent.indexOf("MSIE")!=-1||navigator.userAgent.indexOf("Trident")!=-1?window.btoa?(m=window.btoa(m),n=window.btoa(n)):(m=_ZLDReq.btoa(m),n=_ZLDReq.btoa(n)):(m=window.btoa(m),n=window.btoa(n)),b=b+"&pagetitle="+encodeURIComponent(o).substring(0,3e3)+"&cpage="+encodeURIComponent(m).substring(0,3e3),n&&(b=b+"&referrer="+encodeURIComponent(n).substring(0,3e3));var p=$ZSIQCookie.get("cdn_status");p&&(b=b+"&cdn_status="+encodeURIComponent(p));try{b=b+"&signature="+_IS_SIGNATURE_CHAT}catch(q){}d&&_WIDGETTYPE>0&&_WIDGETTYPE<4&&(b=b+"&widgettype="+_WIDGETTYPE),d&&(b=b+"&ispreview="+d);var r=function(a){var b=$ZSIQUtil.parseToJSON(a);try{var d=b[0].objString;$ZSIQChat.handleEmbedDetails(d,c)}catch(e){}};$ZSIQUtil.ajax(b,r,null,!0)},handleEmbedDetails:function(b,c){b.not_modified?(c.widgetobj.status=b.STATUS,c.widgetobj.hideembed=b.hideembed,c.commondata.jsstaticserver=b.jsstaticserver,c.commondata.imgstaticserver=b.imgstaticserver,c.widgetobj.cssstaticserver=b.cssstaticserver,c.commondata.jscdnstaticserver=b.jscdnstaticserver,c.widgetobj.csscdnstaticserver=b.csscdnstaticserver,c.commondata.cwrmjsstaticserver=b.cwrmjsstaticserver,c.commondata.cwumjsstaticserver=b.cwumjsstaticserver,c.widgetobj.wmsjsstaticserver=b.wmsjsstaticserver,c.widgetobj.widcssversion=b.widcssversion,c.embedobj.einfo.embedstatus.STATUS=b.STATUS,c.embedobj.einfo.embedstatus.DEPTLIST=b.DEPTLIST,c.embedobj.einfo.embedstatus.DEPARTMENTID=b.DEPARTMENTID,c.embedobj.params=b.params,b.userdetails&&(c.widgetobj.userdetails=b.userdetails,c.embedobj.einfo.userdetails=b.userdetails),b.geodetails&&(c.geodetails=b.geodetails),b.refreshapilang&&(c.embedobj.jsresource=b.jsresource,c.embedobj.lang=b.lang,c.embedobj.language=b.language,c.widgetobj.resourcefile=b.resourcefile,c.widgetobj.i18nkeys=b.i18nkeys),b.hasOwnProperty("isgdprenabled")&&(c.embedobj.pinfo.pinfo.isgdprenabled=b.isgdprenabled,c.embedobj.pinfo.pinfo.trackingprivacyconfig=b.trackingprivacyconfig,c.embedobj.pinfo.pinfo.chatprivacyconfig=b.chatprivacyconfig,c.embedobj.pinfo.pinfo.cookiepolicyurl=b.cookiepolicyurl,c.embedobj.pinfo.pinfo.chatcookiepolicyurl=b.chatcookiepolicyurl,c.embedobj.pinfo.pinfo.trackingprivacystatement=b.trackingprivacystatement),c.widgetobj.langchangeviaapi=b.langchangeviaapi,c.embedobj.ismailchimpenabled=b.ismailchimpenabled,c.embedobj.isaudiocallallowed=b.isaudiocallallowed,c.embedobj.cinfo=b.cinfo,delete b.not_modified):(c=b,c.widgetobj.avuid&&($ZSIQLSDB.set("ZLD"+c.widgetobj.lsid+"avuid",c.widgetobj.avuid),delete c.widgetobj.avuid)),a=c,d&&(a=i(a,_MODIFIED_WIDGET_OBJ),a.commondata.jscdnstaticserver=c.commondata.jsstaticserver,a.widgetobj.csscdnstaticserver=c.widgetobj.cssstaticserver),$UTSHandler.init(),$ZSIQUtil.startAfterReady(c.geodetails||{}),loadStaticFiles()},isPreview:function(){return d},isSignatureChat:function(){return e},updatePreviewConfig:function(){a=i(a,_MODIFIED_WIDGET_OBJ)},loadPostMessage:function(){window.addEventListener?window.addEventListener("message",$ZSIQChat.handlePostMessage,!1):window.attachEvent("onmessage",$ZSIQChat.handlePostMessage)},handlePostMessage:function(a){try{var b=JSON.parse(a.data);if(b.type==="zoho.salesiq.apimessage"){var c=b.visitor;c.name&&$zohosq.visitor.name(c.name),c.email&&$zohosq.visitor.email(c.email),c.contactnumber&&$zohosq.visitor.contactnumber(c.contactnumber)}else if(b.type==="zoho.salesiq.gettrackingdetails"){var d=$UTSHandler.get("_zldt");if(!d)return;var e={};e.type="zoho.salesiq.trackingdetails",e.trackingdetails={uvid:d},a.source.postMessage(JSON.stringify(e),"*")}}catch(f){}return}}}();if(!$zoho.salesiq.init_called){var isdomloadhandled=!1;try{$zoho.salesiq.mode!="async"&&($ZSIQChat.init(),isdomloadhandled=!0,$zoho.salesiq.init_called=!0)}catch(e){isdomloadhandled=!1}isdomloadhandled||($zoho.salesiq.init_called=!0,document.readyState==="complete"?$ZSIQChat.init():window.addEventListener?window.addEventListener("load",$ZSIQChat.init):window.attachEvent("onload",$ZSIQChat.init))};
